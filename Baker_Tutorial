#Initiated on 3/17/2020
#Author: Rachael Storo
#Last Edit: 3/18/2020

#The goal of this script is to implement Brett Baker's metagenomic workflow on our UGA cluster for analysis of our metagenomic data
#################################################################################################################################################################################################################################
#Step 1: Interleaving

#Oil_Fluff

#!/bin/bash

#PBS -S /bin/bash
#PBS -N j_Interleaving
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

ml Python/3.5.2-foss-2016b
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/AT26-13_Sed_42_OC26_S28_L003_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/AT26-13_Sed_42_OC26_S28_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_42_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN559_Sed_167_OC26_S22_L002_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN559_Sed_167_OC26_S22_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN559_Sed_167_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN586_Sed_64_OC26_S30_L003_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN586_Sed_64_OC26_S30_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN586_Sed_64_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN496_Sed_117_OC26_S5_L001_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN496_Sed_117_OC26_S5_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN496_Sed_117_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN600_Sed_73_OC26_S32_L003_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN600_Sed_73_OC26_S32_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN600_Sed_73_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN510_Sed_33_OC26_S20_L002_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN510_Sed_33_OC26_S20_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN510_Sed_33_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/PE1031_Sed_53_OC26_S12_L002_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/PE1031_Sed_53_OC26_S12_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/PE1031_Sed_53_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN527_Sed_44_OC26_S26_L003_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN527_Sed_44_OC26_S26_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN527_Sed_44_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/PE1031_Sed_95_OC26_S1_L001_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/PE1031_Sed_95_OC26_S1_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/PE1031_Sed_95_OC26_combined.fastq



#OC26_Leftover

#!/bin/bash

#PBS -S /bin/bash
#PBS -N j_Interleaving
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

ml Python/3.5.2-foss-2016b
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT18-02_Sed_MUC19-8_0-3_S19_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT18-02_Sed_MUC19-8_0-3_S19_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_0-3_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN527_Sed_45_OC26_S27_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN527_Sed_45_OC26_S27_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN527_Sed_45_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C82_STE25_S24_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C82_STE25_S24_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C82_STE25_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT18-02_Sed_MUC19-8_16-21_S4_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT18-02_Sed_MUC19-8_16-21_S4_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN527_Sed_50_OC26_S9_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN527_Sed_50_OC26_S9_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN527_Sed_50_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C83_STE25_S25_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C83_STE25_S25_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C83_STE25_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_43_JW826_S21_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_43_JW826_S21_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_JW826_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN559_Sed_168_OC26_S29_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN559_Sed_168_OC26_S29_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN559_Sed_168_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C86_STE25_S3_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C86_STE25_S3_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C86_STE25_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_43_OC26_S14_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_43_OC26_S14_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN559_Sed_174_OC26_S10_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN559_Sed_174_OC26_S10_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN559_Sed_174_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C89_OC26_S23_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C89_OC26_S23_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_48_OC26_S15_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_48_OC26_S15_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_48_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN586_Sed_65_OC26_S31_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN586_Sed_65_OC26_S31_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN586_Sed_65_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C93_OC26_S2_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C93_OC26_S2_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C93_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN496_Sed_122_OC26_S6_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN496_Sed_122_OC26_S6_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN496_Sed_122_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN586_Sed_70_OC26_S16_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN586_Sed_70_OC26_S16_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN586_Sed_70_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/PE1031_Sed_54_OC26_S13_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/PE1031_Sed_54_OC26_S13_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/PE1031_Sed_54_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN510_Sed_34_OC26_S7_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN510_Sed_34_OC26_S7_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN510_Sed_34_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN600_Sed_74_OC26_S33_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN600_Sed_74_OC26_S33_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN600_Sed_74_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/PE1031_Sed_96_OC26_S18_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/PE1031_Sed_96_OC26_S18_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/PE1031_Sed_96_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN510_Sed_39_OC26_S8_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN510_Sed_39_OC26_S8_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN510_Sed_39_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN600_Sed_79_OC26_S17_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN600_Sed_79_OC26_S17_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN600_Sed_79_OC26_combined.fastq


#################################################################################################################################################################################################################################
#Step 2: Trimming and QC

#!/bin/bash

#PBS -S /bin/bash
#PBS -N j_QC
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=20:00:00
#PBS -l mem=150gb
module load sickle/1.33-foss-2016b

sickle pe -c /scratch/rck80079/Baker_Tutorial/EN510_Sed_33_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_33_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_33_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN510_Sed_33_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN586_Sed_64_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_64_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_64_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN586_Sed_64_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C89_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_0-3_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_0-3_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_0-3_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT18-02_Sed_MUC19-8_0-3_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN510_Sed_34_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_34_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_34_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN510_Sed_34_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN586_Sed_65_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_65_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_65_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN586_Sed_65_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C89_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C93_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C93_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C93_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C93_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT18-02_Sed_MUC19-8_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN510_Sed_39_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_39_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_39_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN510_Sed_39_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN586_Sed_70_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_70_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_70_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN586_Sed_70_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/PE1031_Sed_53_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_53_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_53_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/PE1031_Sed_53_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_42_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_42_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_42_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT26-13_Sed_42_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN527_Sed_44_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_44_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_44_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN527_Sed_44_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN600_Sed_73_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_73_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_73_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN600_Sed_73_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/PE1031_Sed_54_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_54_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_54_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/PE1031_Sed_54_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_JW826_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_JW826_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_JW826_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT26-13_Sed_43_JW826_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN527_Sed_45_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_45_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_45_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN527_Sed_45_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN600_Sed_74_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_74_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_74_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN600_Sed_74_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/PE1031_Sed_95_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_95_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_95_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/PE1031_Sed_95_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT26-13_Sed_43_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN527_Sed_50_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_50_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_50_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN527_Sed_50_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN600_Sed_79_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_79_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_79_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN600_Sed_79_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/PE1031_Sed_96_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_96_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_96_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/PE1031_Sed_96_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_48_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_48_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_48_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT26-13_Sed_48_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN559_Sed_167_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_167_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_167_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN559_Sed_167_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C82_STE25_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C82_STE25_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C82_STE25_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C82_STE25_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN496_Sed_117_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_117_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_117_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN496_Sed_117_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN559_Sed_168_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_168_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_168_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN559_Sed_168_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C83_STE25_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C83_STE25_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C83_STE25_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C83_STE25_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN496_Sed_122_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_122_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_122_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN496_Sed_122_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN559_Sed_174_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/EN559_Sed_174_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/EN559_Sed_174_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN559_Sed_174_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C86_STE25_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C86_STE25_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C86_STE25_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C86_STE25_output_${PBS_JOBID}.log



#################################################################################################################################################################################################################################
#Step 3: Convert fastq to fasta
#!/bin/bash

#PBS -S /bin/bash
#PBS -N j_QC
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=20:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/01_QC/

for i in $(ls *.fastq);
do
cat $i | paste - - - - | sed 's/^@/>/'| cut -f1-2 | tr '\t' '\n' > ${i%.fastq}.fa
done


#################################################################################################################################################################################################################################
#Step 4: Assembly

#PBS -S /bin/bash
#PBS -N IDBA_EN559_Sed_174
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/EN559_Sed_174_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN559_Sed_174_OC26 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75

#PBS -S /bin/bash
#PBS -N IDBA_AT18-02_Sed_MUC19-8_0-3
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_0-3_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/AT18-02_Sed_MUC19-8_0-3 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_AT18-02_Sed_MUC19-8
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/AT18-02_Sed_MUC19-8_16-21 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_AT26-13_Sed_42_OC26
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_42_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/AT26-13_Sed_42_OC26 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN510_Sed_39_OC26
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_39_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN510_Sed_39_OC26 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN600_Sed_79
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_79_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN600_Sed_79 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN527_Sed_44
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_44_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN527_Sed_44 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_AT26-13_Sed_43_JW826
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_JW826_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/AT26-13_Sed_43_JW826 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_OC468-2_Sed_C82_STE25
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C82_STE25_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/OC468-2_Sed_C82_STE25 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN527_Sed_45_OC26
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_45_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN527_Sed_45_OC26 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_OC468-2_Sed_C83_STE25
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C83_STE25_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/OC468-2_Sed_C83_STE25 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_AT26-13_Sed_43
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/AT26-13_Sed_43 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_EN559_Sed_167
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_167_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN559_Sed_167 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_OC468-2_Sed_C86_STE25
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C86_STE25_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/OC468-2_Sed_C86_STE25 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN527_Sed_50
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_50_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN527_Sed_50 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_AT26-13_Sed_48
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_48_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/AT26-13_Sed_48 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_EN559_Sed_168
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_168_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN559_Sed_168 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_OC468-2_Sed_C89
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/OC468-2_Sed_C89 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_OC468-2_Sed_C93
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C93_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/OC468-2_Sed_C93 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN496_Sed_117
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_117_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN496_Sed_117 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN586_Sed_64
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_64_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN586_Sed_64 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_PE1031_Sed_53
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_53_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/PE1031_Sed_53 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_EN586_Sed_65
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_65_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN586_Sed_65 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN496_Sed_122
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_122_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN496_Sed_122 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_EN586_Sed_70
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_70_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN586_Sed_70 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_PE1031_Sed_54
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_54_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/PE1031_Sed_54 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75


#PBS -S /bin/bash
#PBS -N IDBA_PE1031_Sed_95
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_95_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/PE1031_Sed_95 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_EN510_Sed_33
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_33_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN510_Sed_33 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_PE1031_Sed_96
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_96_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/PE1031_Sed_96 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_EN600_Sed_74
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_74_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN600_Sed_74 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_EN600_Sed_73
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_73_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN600_Sed_73 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#PBS -S /bin/bash
#PBS -N IDBA_EN510_Sed_34
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/

module load IDBA-UD/1.1.3-foss-2018a

idba -l /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_34_OC26_combined.fa -o  /scratch/rck80079/Baker_Tutorial/02_ASSEMBLY/EN510_Sed_34 --pre_correction --mink 65 --maxk 115 --step 10 --seed_kmer 55 --num_threads 75



#Step 5: Keep only contigs >2kb
#See removesmalls.pl

perl /scratch/rck80079/Baker_Tutorial/scripts/removesmalls.pl 2000 final.contigs.fa > contigs-2000.fasta

grep -o '>' contigs-2000.fasta | wc -l > numb_2kb.txt



#################################################################################################################################################################################################################################
#Step 6: Mapping
#Coverage-based binning approaches will require you to map reads to assembled contigs and/or scaffolds.

#PBS -S /bin/bash
#PBS -N AT18-02_Sed_MUC19-8_0-3
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT18-02_MUC19-8_0-3/contigs-2000.fasta
time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT18-02_MUC19-8_0-3/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_0-3_combined.fastq > AT18-02_Sed_MUC19-8_0-3.sam
time samtools view -bS -F 4 -@75  AT18-02_Sed_MUC19-8_0-3.sam -o AT18-02_Sed_MUC19-8_0-3.bam


#PBS -S /bin/bash
#PBS -N AT26-13_43_JW826
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_43_JW826/contigs-2000.fasta
time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_43_JW826/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_JW826_combined.fastq > AT26-13_Sed_43_JW826.sam
time samtools view -bS -F 4 -@75  AT26-13_Sed_43_JW826.sam -o AT26-13_Sed_43_JW826.bam



#PBS -S /bin/bash
#PBS -N EN510_34
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN510_34/contigs-2000.fasta
time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN510_34/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN510_Sed_34_OC26_combined.fastq > EN510_34.sam
time samtools view -bS -F 4 -@75  EN510_34.sam -o EN510_34.bam


#PBS -S /bin/bash
#PBS -N EN527_50
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN527_50/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN527_50/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN527_Sed_50_OC26_combined.fastq > EN527_50.sam
time samtools view -bS -F 4 -@75  EN527_50.sam -o EN527_50.bam


#PBS -S /bin/bash
#PBS -N EN586_65
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN586_65/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN586_65/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN586_Sed_65_OC26_combined.fastq > EN586_65.sam
time samtools view -bS -F 4 -@75  EN586_65.sam -o EN586_65.bam


#PBS -S /bin/bash
#PBS -N EN600_79
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN600_79/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN600_79/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN600_Sed_79_OC26_combined.fastq > EN600_79.sam
time samtools view -bS -F 4 -@75  EN600_79.sam -o EN600_79.bam


#PBS -S /bin/bash
#PBS -N OC468-2_C86_STE25
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C86_STE25/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C86_STE25/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C86_STE25_combined.fastq > OC468-2_C86_STE25.sam
time samtools view -bS -F 4 -@75  OC468-2_C86_STE25.sam -o OC468-2_C86_STE25.bam


#PBS -S /bin/bash
#PBS -N PE1031_54
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/PE1031_54/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/PE1031_54/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/PE1031_Sed_54_OC26_combined.fastq > PE1031_54.sam
time samtools view -bS -F 4 -@75  PE1031_54.sam -o PE1031_54.bam


#PBS -S /bin/bash
#PBS -N AT18-02_MUC19-8_16-21
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT18-02_MUC19-8_16-21/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT18-02_MUC19-8_16-21/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_combined.fastq > AT18-02_MUC19-8_16-21.sam
time samtools view -bS -F 4 -@75  AT18-02_MUC19-8_16-21.sam -o AT18-02_MUC19-8_16-21.bam



#PBS -S /bin/bash
#PBS -N AT26-13_48
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_48/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_48/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_48_OC26_combined.fastq > AT26-13_48.sam
time samtools view -bS -F 4 -@75  AT26-13_48.sam -o AT26-13_48.bam


#PBS -S /bin/bash
#PBS -N EN510_39
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN510_39/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN510_39/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN510_Sed_39_OC26_combined.fastq > EN510_39.sam
time samtools view -bS -F 4 -@75  EN510_39.sam -o EN510_39.bam


#PBS -S /bin/bash
#PBS -N EN559_168
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN559_168/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN559_168/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN559_Sed_168_OC26_combined.fastq > EN559_168.sam
time samtools view -bS -F 4 -@75  EN559_168.sam -o EN559_168.bam


#PBS -S /bin/bash
#PBS -N EN586_70
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN586_70/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN586_70/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN586_Sed_70_OC26_combined.fastq > EN586_70.sam
time samtools view -bS -F 4 -@75  EN586_70.sam -o EN586_70.bam



#PBS -S /bin/bash
#PBS -N OC468-2_C82_STE25
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C82_STE25/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C82_STE25/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C82_STE25_combined.fastq > OC468-2_C82_STE25.sam
time samtools view -bS -F 4 -@75  OC468-2_C82_STE25.sam -o OC468-2_C82_STE25.bam



#PBS -S /bin/bash
#PBS -N OC468-2_C89
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C89/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C89/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq > OC468-2_C89.sam
time samtools view -bS -F 4 -@75  OC468-2_C89.sam -o OC468-2_C89.bam



#PBS -S /bin/bash
#PBS -N PE1031_96
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/PE1031_96/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/PE1031_96/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/PE1031_Sed_96_OC26_combined.fastq > PE1031_96.sam
time samtools view -bS -F 4 -@75  PE1031_96.sam -o PE1031_96.bam


#PBS -S /bin/bash
#PBS -N AT26-13_43
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_43/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_43/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_OC26_combined.fastq > AT26-13_43.sam
time samtools view -bS -F 4 -@75  AT26-13_43.sam -o AT26-13_43.bam



#PBS -S /bin/bash
#PBS -N EN496_122
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN496_122/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN496_122/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN496_Sed_122_OC26_combined.fastq > EN496_122.sam
time samtools view -bS -F 4 -@75  EN496_122.sam -o EN496_122.bam



#PBS -S /bin/bash
#PBS -N EN527_45
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN527_45/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN527_45/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN527_Sed_45_OC26_combined.fastq > EN527_45.sam
time samtools view -bS -F 4 -@75 EN527_45.sam -o EN527_45.bam



#PBS -S /bin/bash
#PBS -N EN559_174
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN559_174/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN559_174/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN559_Sed_174_OC26_combined.fastq > EN559_174.sam
time samtools view -bS -F 4 -@75 EN559_174.sam -o EN559_174.bam




#PBS -S /bin/bash
#PBS -N EN600_74
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN600_74/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN600_74/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN600_Sed_74_OC26_combined.fastq > EN600_74.sam
time samtools view -bS -F 4 -@75 EN600_74.sam -o EN600_74.bam




#PBS -S /bin/bash
#PBS -N OC468-2_C83_STE25
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C83_STE25/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C83_STE25/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C83_STE25_combined.fastq > OC468-2_C83_STE25.sam
time samtools view -bS -F 4 -@75 OC468-2_C83_STE25.sam -o OC468-2_C83_STE25.bam



#PBS -S /bin/bash
#PBS -N OC468-2_C93
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C93/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C93/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C93_OC26_combined.fastq > OC468-2_C93.sam
time samtools view -bS -F 4 -@75 OC468-2_C93.sam -o OC468-2_C93.bam



#PBS -S /bin/bash
#PBS -N PE1031_Sed_53
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/PE1031_Sed_53_OC26_combined.fastq > PE1031_Sed_53.sam
time samtools view -bS -F 4 -@75 PE1031_Sed_53.sam -o PE1031_Sed_53.bam


#PBS -S /bin/bash
#PBS -N PE1031_Sed_95
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/PE1031_Sed_95_OC26_combined.fastq > PE1031_Sed_95.sam
time samtools view -bS -F 4 -@75 PE1031_Sed_95.sam -o PE1031_Sed_95.bam


#PBS -S /bin/bash
#PBS -N EN496_Sed_117
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN496_Sed_117_OC26_combined.fastq > EN496_Sed_117.sam
time samtools view -bS -F 4 -@75 EN496_Sed_117.sam -o EN496_Sed_117.bam



#PBS -S /bin/bash
#PBS -N EN510_Sed_33
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN510_Sed_33_OC26_combined.fastq > EN510_Sed_33.sam
time samtools view -bS -F 4 -@75 EN510_Sed_33.sam -o EN510_Sed_33.bam


#PBS -S /bin/bash
#PBS -N EN527_Sed_44
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN527_Sed_44_OC26_combined.fastq > EN527_Sed_44.sam
time samtools view -bS -F 4 -@75 EN527_Sed_44.sam -o EN527_Sed_44.bam


#PBS -S /bin/bash
#PBS -N AT26-13_Sed_42
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_42_OC26_combined.fastq > AT26-13_Sed_42.sam
time samtools view -bS -F 4 -@75 AT26-13_Sed_42.sam -o AT26-13_Sed_42.bam


#PBS -S /bin/bash
#PBS -N EN559_Sed_167
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN559_Sed_167_OC26_combined.fastq > EN559_Sed_167.sam
time samtools view -bS -F 4 -@75 EN559_Sed_167.sam -o EN559_Sed_167.bam


#PBS -S /bin/bash
#PBS -N EN586_Sed_64
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN586_Sed_64_OC26_combined.fastq > EN586_Sed_64.sam
time samtools view -bS -F 4 -@75 EN586_Sed_64.sam -o EN586_Sed_64.bam



#PBS -S /bin/bash
#PBS -N EN600_Sed_73
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN600_Sed_73_OC26_combined.fastq > EN600_Sed_73.sam
time samtools view -bS -F 4 -@75 EN600_Sed_73.sam -o EN600_Sed_73.bam




####################################################################################################################################
#Step 7: sort bam files, summarize

#PBS -S /bin/bash
#PBS -N sort
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=20
#PBS -q joye_q
#PBS -l mem=200gb
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

for file in *.bam

do
samtools sort -t 20 $file > sorted.$file
done




#PBS -S /bin/bash
#PBS -N summarize_contigs
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=64
#PBS -q joye_q
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN510_Sed_34_OC26_combined.fastq  sorted.EN510_34.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN586_Sed_65_OC26_combined.fastq  sorted.EN586_65.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq  sorted.OC468-2_C89.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_combined.fastq  sorted.AT18-02_MUC19-8_16-21.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN510_Sed_39_OC26_combined.fastq  sorted.EN510_39.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN586_Sed_70_OC26_combined.fastq  sorted.EN586_70.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C93_OC26_combined.fastq  sorted.OC468-2_C93.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_0-3_combined.fastq  sorted.AT18-02_Sed_MUC19-8_0-3.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN510_Sed_33_OC26_combined.fastq  sorted.EN510_Sed_33.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN586_Sed_64_OC26_combined.fastq  sorted.EN586_Sed_64.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/PE1031_Sed_54_OC26_combined.fastq  sorted.PE1031_54.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_OC26_combined.fastq sorted.AT26-13_43.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN527_Sed_45_OC26_combined.fastq sorted.EN527_45.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN600_Sed_74_OC26_combined.fastq sorted.EN600_74.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/PE1031_Sed_96_OC26_combined.fastq sorted.PE1031_96.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_48_OC26_combined.fastq sorted.AT26-13_48.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN527_Sed_50_OC26_combined.fastq sorted.EN527_50.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN600_Sed_79_OC26_combined.fastq sorted.EN600_79.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/PE1031_Sed_53_OC26_combined.fastq sorted.PE1031_Sed_53.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_42_OC26_combined.fastq sorted.AT26-13_Sed_42.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN527_Sed_44_OC26_combined.fastq sorted.EN527_Sed_44.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN600_Sed_73_OC26_combined.fastq sorted.EN600_Sed_73.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/PE1031_Sed_95_OC26_combined.fastq sorted.PE1031_Sed_95.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_JW826_combined.fastq sorted.AT26-13_Sed_43_JW826.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN559_Sed_168_OC26_combined.fastq sorted.EN559_168.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C82_STE25_combined.fastq sorted.OC468-2_C82_STE25.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN496_Sed_122_OC26_combined.fastq sorted.EN496_122.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN559_Sed_174_OC26_combined.fastq sorted.EN559_174.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C83_STE25_combined.fastq sorted.OC468-2_C83_STE25.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN496_Sed_117_OC26_combined.fastq sorted.EN496_Sed_117.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN559_Sed_167_OC26_combined.fastq  sorted.EN559_Sed_167.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C86_STE25_combined.fastq sorted.OC468-2_C86_STE25.bam



####################################################################################################################################
#Step 8: Binning
#Metabat

#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT18-02_Sed_MUC19-8_0-3
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/final.contigs.fa -a AT18-02_Sed_MUC19-8_0-3_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN496_Sed_117
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/final.contigs.fa -a EN496_Sed_117_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN527_Sed_45_OC26
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/final.contigs.fa -a EN527_Sed_45_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN586_Sed_65
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/final.contigs.fa -a EN586_Sed_65_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C83_STE25
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/final.contigs.fa -a OC468-2_Sed_C83_STE25_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_PE1031_Sed_95
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/final.contigs.fa -a PE1031_Sed_95_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT18-02_Sed_MUC19-8_16-21
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/final.contigs.fa -a AT18-02_Sed_MUC19-8_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000

#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN496_Sed_122
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/


metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/final.contigs.fa -a EN496_Sed_122_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000

#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN527_Sed_50
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/


metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/final.contigs.fa -a EN527_Sed_50_OC26_combined.fastq.depth.txt  -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN586_Sed_70
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/final.contigs.fa -a EN586_Sed_70_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C86_STE25
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/final.contigs.fa -a OC468-2_Sed_C86_STE25_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_PE1031_Sed_96
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/final.contigs.fa -a PE1031_Sed_96_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT26-13_Sed_42_OC26
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/final.contigs.fa -a AT26-13_Sed_42_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN510_Sed_33
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/final.contigs.fa -a EN510_Sed_33_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN559_Sed_167
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/final.contigs.fa -a EN559_Sed_167_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN600_Sed_73
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/final.contigs.fa -a EN600_Sed_73_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C89
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/final.contigs.fa -a OC468-2_Sed_C89_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT26-13_Sed_43
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/final.contigs.fa -a AT26-13_Sed_43_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN510_Sed_34
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/final.contigs.fa -a EN510_Sed_34_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN559_Sed_168
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/final.contigs.fa -a EN559_Sed_168_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000



#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN600_Sed_74
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/final.contigs.fa -a EN600_Sed_74_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C93
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/final.contigs.fa -a OC468-2_Sed_C93_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT26-13_Sed_43_JW826
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/final.contigs.fa -a AT26-13_Sed_43_JW826_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN510_Sed_39_OC26
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/final.contigs.fa -a EN510_Sed_39_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN559_Sed_174_OC26
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/final.contigs.fa -a EN559_Sed_174_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN600_Sed_79
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/final.contigs.fa -a EN600_Sed_79_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_PE1031_Sed_53
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/final.contigs.fa -a PE1031_Sed_53_OC26_combined.fastq.depth.txt-o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT26-13_Sed_48
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/final.contigs.fa -a AT26-13_Sed_48_OC26_combined.fastq.depth.txt  -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN527_Sed_44
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/final.contigs.fa -a EN527_Sed_44_OC26_combined.fastq.depth.txt  -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN586_Sed_64
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/
metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/final.contigs.fa -a EN586_Sed_64_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C82_STE25
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/final.contigs.fa -a OC468-2_Sed_C82_STE25_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_PE1031_Sed_54
#PBS -l nodes=1:ppn=10
#PBS -l walltime=40:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/final.contigs.fa -a PE1031_Sed_54_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


########################
#In directory with all scripts, run the following to submit all of them at once:

for i in ls *.sh
do
qsub $i
done
