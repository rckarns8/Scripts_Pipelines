#Initiated on 3/17/2020
#Author: Rachael Storo
#Last Edit: 3/18/2020

#The goal of this script is to implement Brett Baker's metagenomic workflow on our UGA cluster for analysis of our metagenomic data
#################################################################################################################################################################################################################################
#Step 1: Interleaving

#Oil_Fluff

#!/bin/bash

#PBS -S /bin/bash
#PBS -N j_Interleaving
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

ml Python/3.5.2-foss-2016b
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/AT26-13_Sed_42_OC26_S28_L003_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/AT26-13_Sed_42_OC26_S28_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_42_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN559_Sed_167_OC26_S22_L002_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN559_Sed_167_OC26_S22_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN559_Sed_167_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN586_Sed_64_OC26_S30_L003_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN586_Sed_64_OC26_S30_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN586_Sed_64_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN496_Sed_117_OC26_S5_L001_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN496_Sed_117_OC26_S5_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN496_Sed_117_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN600_Sed_73_OC26_S32_L003_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN600_Sed_73_OC26_S32_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN600_Sed_73_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN510_Sed_33_OC26_S20_L002_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN510_Sed_33_OC26_S20_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN510_Sed_33_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/PE1031_Sed_53_OC26_S12_L002_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/PE1031_Sed_53_OC26_S12_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/PE1031_Sed_53_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN527_Sed_44_OC26_S26_L003_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/EN527_Sed_44_OC26_S26_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN527_Sed_44_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/PE1031_Sed_95_OC26_S1_L001_R1_001.fastq -r /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/raw_data/PE1031_Sed_95_OC26_S1_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/PE1031_Sed_95_OC26_combined.fastq



#OC26_Leftover

#!/bin/bash

#PBS -S /bin/bash
#PBS -N j_Interleaving
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=120:00:00
#PBS -l mem=150gb

ml Python/3.5.2-foss-2016b
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT18-02_Sed_MUC19-8_0-3_S19_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT18-02_Sed_MUC19-8_0-3_S19_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_0-3_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN527_Sed_45_OC26_S27_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN527_Sed_45_OC26_S27_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN527_Sed_45_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C82_STE25_S24_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C82_STE25_S24_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C82_STE25_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT18-02_Sed_MUC19-8_16-21_S4_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT18-02_Sed_MUC19-8_16-21_S4_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py pp-l /scratch/rck80079/OC26_Leftover/Other/EN527_Sed_50_OC26_S9_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN527_Sed_50_OC26_S9_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN527_Sed_50_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C83_STE25_S25_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C83_STE25_S25_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C83_STE25_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_43_JW826_S21_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_43_JW826_S21_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_JW826_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN559_Sed_168_OC26_S29_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN559_Sed_168_OC26_S29_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN559_Sed_168_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C86_STE25_S3_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C86_STE25_S3_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C86_STE25_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_43_OC26_S14_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_43_OC26_S14_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN559_Sed_174_OC26_S10_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN559_Sed_174_OC26_S10_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN559_Sed_174_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C89_OC26_S23_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C89_OC26_S23_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_48_OC26_S15_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/AT26-13_Sed_48_OC26_S15_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_48_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN586_Sed_65_OC26_S31_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN586_Sed_65_OC26_S31_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN586_Sed_65_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C93_OC26_S2_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/OC468-2_Sed_C93_OC26_S2_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C93_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN496_Sed_122_OC26_S6_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN496_Sed_122_OC26_S6_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN496_Sed_122_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN586_Sed_70_OC26_S16_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN586_Sed_70_OC26_S16_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN586_Sed_70_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/PE1031_Sed_54_OC26_S13_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/PE1031_Sed_54_OC26_S13_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/PE1031_Sed_54_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN510_Sed_34_OC26_S7_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN510_Sed_34_OC26_S7_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN510_Sed_34_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN600_Sed_74_OC26_S33_L003_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN600_Sed_74_OC26_S33_L003_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN600_Sed_74_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/PE1031_Sed_96_OC26_S18_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/PE1031_Sed_96_OC26_S18_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/PE1031_Sed_96_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN510_Sed_39_OC26_S8_L001_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN510_Sed_39_OC26_S8_L001_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN510_Sed_39_OC26_combined.fastq
python /scratch/rck80079/Baker_Tutorial/scripts/interleave_fastq.py -l /scratch/rck80079/OC26_Leftover/Other/EN600_Sed_79_OC26_S17_L002_R1_001.fastq -r /scratch/rck80079/OC26_Leftover/Other/EN600_Sed_79_OC26_S17_L002_R2_001.fastq -o /scratch/rck80079/Baker_Tutorial/EN600_Sed_79_OC26_combined.fastq


#################################################################################################################################################################################################################################
#Step 2: Trimming and QC

#!/bin/bash

#PBS -S /bin/bash
#PBS -N j_QC
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=20:00:00
#PBS -l mem=150gb
module load sickle/1.33-foss-2016b

sickle pe -c /scratch/rck80079/Baker_Tutorial/EN510_Sed_33_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_33_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_33_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN510_Sed_33_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN586_Sed_64_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_64_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_64_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN586_Sed_64_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C89_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_0-3_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_0-3_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_0-3_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT18-02_Sed_MUC19-8_0-3_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN510_Sed_34_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_34_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_34_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN510_Sed_34_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN586_Sed_65_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_65_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_65_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN586_Sed_65_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C89_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C89_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C93_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C93_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C93_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C93_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT18-02_Sed_MUC19-8_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT18-02_Sed_MUC19-8_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN510_Sed_39_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_39_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN510_Sed_39_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN510_Sed_39_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN586_Sed_70_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_70_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN586_Sed_70_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN586_Sed_70_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/PE1031_Sed_53_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_53_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_53_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/PE1031_Sed_53_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_42_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_42_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_42_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT26-13_Sed_42_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN527_Sed_44_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_44_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_44_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN527_Sed_44_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN600_Sed_73_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_73_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_73_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN600_Sed_73_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/PE1031_Sed_54_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_54_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_54_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/PE1031_Sed_54_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_JW826_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_JW826_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_JW826_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT26-13_Sed_43_JW826_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN527_Sed_45_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_45_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_45_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN527_Sed_45_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN600_Sed_74_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_74_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_74_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN600_Sed_74_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/PE1031_Sed_95_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_95_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_95_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/PE1031_Sed_95_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_43_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT26-13_Sed_43_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN527_Sed_50_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_50_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN527_Sed_50_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN527_Sed_50_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN600_Sed_79_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_79_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN600_Sed_79_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN600_Sed_79_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/PE1031_Sed_96_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_96_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_PE1031_Sed_96_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/PE1031_Sed_96_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_48_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_48_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_AT26-13_Sed_48_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/AT26-13_Sed_48_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN559_Sed_167_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_167_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_167_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN559_Sed_167_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C82_STE25_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C82_STE25_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C82_STE25_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C82_STE25_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN496_Sed_117_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_117_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_117_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN496_Sed_117_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN559_Sed_168_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_168_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN559_Sed_168_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN559_Sed_168_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C83_STE25_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C83_STE25_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C83_STE25_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C83_STE25_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN496_Sed_122_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_122_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_EN496_Sed_122_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN496_Sed_122_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/EN559_Sed_174_OC26_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/EN559_Sed_174_OC26_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/EN559_Sed_174_OC26_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/EN559_Sed_174_OC26_output_${PBS_JOBID}.log
sickle pe -c /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C86_STE25_combined.fastq -t sanger -m /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C86_STE25_combined.fastq -s /scratch/rck80079/Baker_Tutorial/01_QC/QC_OC468-2_Sed_C86_STE25_singles.fastq > /scratch/rck80079/Baker_Tutorial/01_QC/logs/OC468-2_Sed_C86_STE25_output_${PBS_JOBID}.log



#################################################################################################################################################################################################################################
#Step 3: Convert fastq to fasta
#!/bin/bash

#PBS -S /bin/bash
#PBS -N j_QC
#PBS -q joye_q
#PBS -l nodes=1:ppn=1
#PBS -l walltime=20:00:00
#PBS -l mem=150gb

cd /scratch/rck80079/Baker_Tutorial/01_QC/

for i in $(ls *.fastq);
do
cat $i | paste - - - - | sed 's/^@/>/'| cut -f1-2 | tr '\t' '\n' > ${i%.fastq}.fa
done


#################################################################################################################################################################################################################################
#Step 4: Assembly

#PBS _S /bin/bash
#PBS -N 2010 assembly
#PBS -q joye_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2010/2010-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2010/2010-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2010/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2010/final.contigs.fa -o 03_CONTIGS/PE1031_Sed_53_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt




#PBS _S /bin/bash
#PBS -N 2010-2 assembly
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2010_2/2010_2-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2010_2/2010_2-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2010_2 -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2010_2/final.contigs.fa -o 03_CONTIGS/PE1031_Sed_95_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N 2011 assembly
#PBS -q joye_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2011/2011-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2011/2011-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2011 -t 4


singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2011/final.contigs.fa -o 03_CONTIGS/EN496_Sed_117_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt



#PBS _S /bin/bash
#PBS -N 2012 assembly
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2012/2012-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2012/2012-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2012/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2012/final.contigs.fa -o 03_CONTIGS/EN510_Sed_33_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt

#PBS _S /bin/bash
#PBS -N 2013 assembly
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2013/2013-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2013/2013-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2013/ -t 4


singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2013/final.contigs.fa -o 03_CONTIGS/EN527_Sed_44_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt

#PBS _S /bin/bash
#PBS -N 2014 assembly
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2014/2014-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2014/2014-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2014/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2014/final.contigs.fa -o 03_CONTIGS/AT26-13_Sed_42_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N 2015 assembly
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2015/2015-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2015/2015-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2015/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2015/final.contigs.fa -o 03_CONTIGS/EN559_Sed_167_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt



#PBS _S /bin/bash
#PBS -N 2016 assembly
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2016/2016-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2016/2016-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2016/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2016/final.contigs.fa -o 03_CONTIGS/EN586_Sed_64_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N 2017 assembly
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2017/2017-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/01_QC/2017/2017-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/2017/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/2017/final.contigs.fa -o 03_CONTIGS/EN600_Sed_73_OC26.fa --min-len 2500 --simplify-names --report name_conversions.txt

#################################################################################
#Other SAMPLES


#PBS _S /bin/bash
#PBS -N EN600_74
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN600_74-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN600_74-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN600_74/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN600_74/final.contigs.fa -o 03_CONTIGS/EN600_74.fa --min-len 2500 --simplify-names --report name_conversions.txt



#PBS _S /bin/bash
#PBS -N AT26-13_43
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/AT26-13_43-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/AT26-13_43-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/AT26-13_43/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/AT26-13_43/final.contigs.fa -o 03_CONTIGS/AT26-13_43.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N EN510_39
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN510_39/EN510_39-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN510_39/EN510_39-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN510_39/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN510_39/final.contigs.fa -o 03_CONTIGS/EN510_39.fa --min-len 2500 --simplify-names --report name_conversions.txt



#PBS _S /bin/bash
#PBS -N AT18-02_MUC19-8_0-3
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/AT18-02_MUC19-8_0-3/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/AT18-02_MUC19-8_0-3/final.contigs.fa -o 03_CONTIGS/AT18-02_MUC19-8_0-3.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N EN586_65
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN586_65/EN586_65-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN586_65/EN586_65-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN586_65/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN586_65/final.contigs.fa -o 03_CONTIGS/EN586_65.fa --min-len 2500 --simplify-names --report name_conversions.txt



#PBS _S /bin/bash
#PBS -N EN559_168
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN559_168/EN559_168-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN559_168/EN559_168-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN559_168/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN559_168/final.contigs.fa -o 03_CONTIGS/EN559_168.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N AT26-13_43_JW826
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/AT26-13_43_JW826/AT26-13_43_JW826-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/AT26-13_43_JW826/AT26-13_43_JW826-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/AT26-13_43_JW826/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/AT26-13_43_JW826/final.contigs.fa -o 03_CONTIGS/AT26-13_43_JW826.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N EN600_79
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN600_79/EN600_79-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN600_79/EN600_79-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN600_79/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN600_79/final.contigs.fa -o 03_CONTIGS/EN600_79.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N EN559_174
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN559_174/EN559_174-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN559_174/EN559_174-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN559_174/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN559_174/final.contigs.fa -o 03_CONTIGS/EN559_174.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N EN586_70
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN586_70/EN586_70-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN586_70/EN586_70-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN586_70/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN586_70/final.contigs.fa -o 03_CONTIGS/EN586_70.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N AT26-13_48
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/AT26-13_48/AT26-13_48-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/AT26-13_48/AT26-13_48-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/AT26-13_48/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/AT26-13_48/final.contigs.fa -o 03_CONTIGS/AT26-13_48.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N EN527_50
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN527_50/EN527_50-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN527_50/EN527_50-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN527_50/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN527_50/final.contigs.fa -o 03_CONTIGS/EN527_50.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N EN527_45
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN527_45/EN527_45-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN527_45/EN527_45-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN527_45/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN527_45/final.contigs.fa -o 03_CONTIGS/EN527_45.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N OC468-2_C86_STE25
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C86_STE25/OC468-2_C86_STE25-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C86_STE25/OC468-2_C86_STE25-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/OC468-2_C86_STE25/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/OC468-2_C86_STE25/final.contigs.fa -o 03_CONTIGS/OC468-2_C86_STE25.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N OC468-2_C83_STE25
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C83_STE25/OC468-2_C83_STE25-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C83_STE25/OC468-2_C83_STE25-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/OC468-2_C83_STE25/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/OC468-2_C83_STE25/final.contigs.fa -o 03_CONTIGS/OC468-2_C83_STE25.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N OC468-2_C82_STE25
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C82_STE25/OC468-2_C82_STE25-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C82_STE25/OC468-2_C82_STE25-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/OC468-2_C82_STE25/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/OC468-2_C82_STE25/final.contigs.fa -o 03_CONTIGS/OC468-2_C82_STE25.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N PE1031_96
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/PE1031_96/PE1031_96-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/PE1031_96/PE1031_96-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/PE1031_96/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/PE1031_96/final.contigs.fa -o 03_CONTIGS/PE1031_96.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N OC468-2_C93
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C93/OC468-2_C93-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C93/OC468-2_C93-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/OC468-2_C93/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/OC468-2_C93/final.contigs.fa -o 03_CONTIGS/OC468-2_C93.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N PE1031_54
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/PE1031_54/PE1031_54-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/PE1031_54/PE1031_54-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/PE1031_54/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/PE1031_54/final.contigs.fa -o 03_CONTIGS/PE1031_54.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N OC468-2_C89
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C89/OC468-2_C89-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/OC468-2_C89/OC468-2_C89-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/OC468-2_C89/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/OC468-2_C89/final.contigs.fa -o 03_CONTIGS/OC468-2_C89.fa --min-len 2500 --simplify-names --report name_conversions.txt



#PBS _S /bin/bash
#PBS -N EN510_34
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN510_34/EN510_34-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN510_34/EN510_34-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN510_34/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN510_34/final.contigs.fa -o 03_CONTIGS/EN510_34.fa --min-len 2500 --simplify-names --report name_conversions.txt



#PBS _S /bin/bash
#PBS -N EN496_122
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/EN496_122/EN496_122-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/EN496_122/EN496_122-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/EN496_122/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/EN496_122/final.contigs.fa -o 03_CONTIGS/EN496_122.fa --min-len 2500 --simplify-names --report name_conversions.txt


#PBS _S /bin/bash
#PBS -N AT18-02_MUC19-8_16-21
#PBS -q highmem_q
#PBS -l nodes=1:ppn=4
#PBS -l walltime=50:00:00
#PBS -l mem=800gb

BASEDIR=/scratch/rck80079/OC26_Leftover
cd $BASEDIR

module load MEGAHIT/1.1.3-foss-2016b-Python-2.7.14

megahit -1 /scratch/rck80079/OC26_Leftover/01_QC/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21-QUALITY_PASSED_R1.fa -2 /scratch/rck80079/OC26_Leftover/01_QC/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21-QUALITY_PASSED_R2.fa --min-contig-len 1000 -m 0.8 --k-min 27 --presets meta-large -o 02_ASSEMBLY/AT18-02_MUC19-8_16-21/ -t 4

singularity exec /usr/local/singularity-images/anvio-5.4.simg anvi-script-reformat-fasta 02_ASSEMBLY/AT18-02_MUC19-8_16-21/final.contigs.fa -o 03_CONTIGS/AT18-02_MUC19-8_16-21.fa --min-len 2500 --simplify-names --report name_conversions.txt




#Step 5: Keep only contigs >2kb
#See removesmalls.pl

perl /scratch/rck80079/Baker_Tutorial/scripts/removesmalls.pl 2000 final.contigs.fa > contigs-2000.fasta

grep -o '>' contigs-2000.fasta | wc -l > numb_2kb.txt



#################################################################################################################################################################################################################################
#Step 6: Mapping
#Coverage-based binning approaches will require you to map reads to assembled contigs and/or scaffolds.

#PBS -S /bin/bash
#PBS -N AT18-02_Sed_MUC19-8_0-3
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/All_Contigs

time bwa index /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/contigs-2000.fasta
time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_0-3_combined.fastq > AT18-02_Sed_MUC19-8_0-3.sam
time samtools view -bS -F 4 -@75  AT18-02_Sed_MUC19-8_0-3.sam -o AT18-02_Sed_MUC19-8_0-3.bam


#PBS -S /bin/bash
#PBS -N AT26-13_43_JW826
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_43_JW826/contigs-2000.fasta
time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_43_JW826/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_JW826_combined.fastq > AT26-13_Sed_43_JW826.sam
time samtools view -bS -F 4 -@75  AT26-13_Sed_43_JW826.sam -o AT26-13_Sed_43_JW826.bam



#PBS -S /bin/bash
#PBS -N EN510_34
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN510_34/contigs-2000.fasta
time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN510_34/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN510_Sed_34_OC26_combined.fastq > EN510_34.sam
time samtools view -bS -F 4 -@75  EN510_34.sam -o EN510_34.bam


#PBS -S /bin/bash
#PBS -N EN527_50
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN527_50/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN527_50/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN527_Sed_50_OC26_combined.fastq > EN527_50.sam
time samtools view -bS -F 4 -@75  EN527_50.sam -o EN527_50.bam


#PBS -S /bin/bash
#PBS -N EN586_65
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN586_65/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN586_65/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN586_Sed_65_OC26_combined.fastq > EN586_65.sam
time samtools view -bS -F 4 -@75  EN586_65.sam -o EN586_65.bam


#PBS -S /bin/bash
#PBS -N EN600_79
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN600_79/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN600_79/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN600_Sed_79_OC26_combined.fastq > EN600_79.sam
time samtools view -bS -F 4 -@75  EN600_79.sam -o EN600_79.bam


#PBS -S /bin/bash
#PBS -N OC468-2_C86_STE25
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C86_STE25/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C86_STE25/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C86_STE25_combined.fastq > OC468-2_C86_STE25.sam
time samtools view -bS -F 4 -@75  OC468-2_C86_STE25.sam -o OC468-2_C86_STE25.bam


#PBS -S /bin/bash
#PBS -N PE1031_54
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/PE1031_54/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/PE1031_54/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/PE1031_Sed_54_OC26_combined.fastq > PE1031_54.sam
time samtools view -bS -F 4 -@75  PE1031_54.sam -o PE1031_54.bam


#PBS -S /bin/bash
#PBS -N AT18-02_MUC19-8_16-21
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT18-02_MUC19-8_16-21/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT18-02_MUC19-8_16-21/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_combined.fastq > AT18-02_MUC19-8_16-21.sam
time samtools view -bS -F 4 -@75  AT18-02_MUC19-8_16-21.sam -o AT18-02_MUC19-8_16-21.bam



#PBS -S /bin/bash
#PBS -N AT26-13_48
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_48/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_48/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_48_OC26_combined.fastq > AT26-13_48.sam
time samtools view -bS -F 4 -@75  AT26-13_48.sam -o AT26-13_48.bam


#PBS -S /bin/bash
#PBS -N EN510_39
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN510_39/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN510_39/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN510_Sed_39_OC26_combined.fastq > EN510_39.sam
time samtools view -bS -F 4 -@75  EN510_39.sam -o EN510_39.bam


#PBS -S /bin/bash
#PBS -N EN559_168
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN559_168/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN559_168/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN559_Sed_168_OC26_combined.fastq > EN559_168.sam
time samtools view -bS -F 4 -@75  EN559_168.sam -o EN559_168.bam


#PBS -S /bin/bash
#PBS -N EN586_70
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN586_70/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN586_70/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN586_Sed_70_OC26_combined.fastq > EN586_70.sam
time samtools view -bS -F 4 -@75  EN586_70.sam -o EN586_70.bam



#PBS -S /bin/bash
#PBS -N OC468-2_C82_STE25
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C82_STE25/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C82_STE25/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C82_STE25_combined.fastq > OC468-2_C82_STE25.sam
time samtools view -bS -F 4 -@75  OC468-2_C82_STE25.sam -o OC468-2_C82_STE25.bam



#PBS -S /bin/bash
#PBS -N OC468-2_C89
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C89/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C89/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq > OC468-2_C89.sam
time samtools view -bS -F 4 -@75  OC468-2_C89.sam -o OC468-2_C89.bam



#PBS -S /bin/bash
#PBS -N PE1031_96
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/PE1031_96/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/PE1031_96/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/PE1031_Sed_96_OC26_combined.fastq > PE1031_96.sam
time samtools view -bS -F 4 -@75  PE1031_96.sam -o PE1031_96.bam


#PBS -S /bin/bash
#PBS -N AT26-13_43
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_43/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/AT26-13_43/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_OC26_combined.fastq > AT26-13_43.sam
time samtools view -bS -F 4 -@75  AT26-13_43.sam -o AT26-13_43.bam



#PBS -S /bin/bash
#PBS -N EN496_122
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN496_122/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN496_122/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN496_Sed_122_OC26_combined.fastq > EN496_122.sam
time samtools view -bS -F 4 -@75  EN496_122.sam -o EN496_122.bam



#PBS -S /bin/bash
#PBS -N EN527_45
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN527_45/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN527_45/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN527_Sed_45_OC26_combined.fastq > EN527_45.sam
time samtools view -bS -F 4 -@75 EN527_45.sam -o EN527_45.bam



#PBS -S /bin/bash
#PBS -N EN559_174
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN559_174/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN559_174/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN559_Sed_174_OC26_combined.fastq > EN559_174.sam
time samtools view -bS -F 4 -@75 EN559_174.sam -o EN559_174.bam




#PBS -S /bin/bash
#PBS -N EN600_74
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN600_74/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/EN600_74/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN600_Sed_74_OC26_combined.fastq > EN600_74.sam
time samtools view -bS -F 4 -@75 EN600_74.sam -o EN600_74.bam




#PBS -S /bin/bash
#PBS -N OC468-2_C83_STE25
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C83_STE25/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C83_STE25/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C83_STE25_combined.fastq > OC468-2_C83_STE25.sam
time samtools view -bS -F 4 -@75 OC468-2_C83_STE25.sam -o OC468-2_C83_STE25.bam



#PBS -S /bin/bash
#PBS -N OC468-2_C93
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C93/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/OC26_Leftover/02_ASSEMBLY/OC468-2_C93/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C93_OC26_combined.fastq > OC468-2_C93.sam
time samtools view -bS -F 4 -@75 OC468-2_C93.sam -o OC468-2_C93.bam



#PBS -S /bin/bash
#PBS -N PE1031_Sed_53
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/PE1031_Sed_53_OC26_combined.fastq > PE1031_Sed_53.sam
time samtools view -bS -F 4 -@75 PE1031_Sed_53.sam -o PE1031_Sed_53.bam


#PBS -S /bin/bash
#PBS -N PE1031_Sed_95
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/PE1031_Sed_95_OC26_combined.fastq > PE1031_Sed_95.sam
time samtools view -bS -F 4 -@75 PE1031_Sed_95.sam -o PE1031_Sed_95.bam


#PBS -S /bin/bash
#PBS -N EN496_Sed_117
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN496_Sed_117_OC26_combined.fastq > EN496_Sed_117.sam
time samtools view -bS -F 4 -@75 EN496_Sed_117.sam -o EN496_Sed_117.bam



#PBS -S /bin/bash
#PBS -N EN510_Sed_33
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/contigs-2000.fasta


time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN510_Sed_33_OC26_combined.fastq > EN510_Sed_33.sam
time samtools view -bS -F 4 -@75 EN510_Sed_33.sam -o EN510_Sed_33.bam


#PBS -S /bin/bash
#PBS -N EN527_Sed_44
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN527_Sed_44_OC26_combined.fastq > EN527_Sed_44.sam
time samtools view -bS -F 4 -@75 EN527_Sed_44.sam -o EN527_Sed_44.bam


#PBS -S /bin/bash
#PBS -N AT26-13_Sed_42
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_42_OC26_combined.fastq > AT26-13_Sed_42.sam
time samtools view -bS -F 4 -@75 AT26-13_Sed_42.sam -o AT26-13_Sed_42.bam


#PBS -S /bin/bash
#PBS -N EN559_Sed_167
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN559_Sed_167_OC26_combined.fastq > EN559_Sed_167.sam
time samtools view -bS -F 4 -@75 EN559_Sed_167.sam -o EN559_Sed_167.bam


#PBS -S /bin/bash
#PBS -N EN586_Sed_64
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN586_Sed_64_OC26_combined.fastq > EN586_Sed_64.sam
time samtools view -bS -F 4 -@75 EN586_Sed_64.sam -o EN586_Sed_64.bam



#PBS -S /bin/bash
#PBS -N EN600_Sed_73
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=1:AMD
#PBS -q joye_q
#PBS -l mem=200gb


module load BWA/0.7.15-foss-2016b
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

time bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/contigs-2000.fasta

time bwa mem -t 75  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/contigs-2000.fasta -p /scratch/rck80079/Baker_Tutorial/EN600_Sed_73_OC26_combined.fastq > EN600_Sed_73.sam
time samtools view -bS -F 4 -@75 EN600_Sed_73.sam -o EN600_Sed_73.bam




####################################################################################################################################
#Step 7: sort bam files, summarize

#PBS -S /bin/bash
#PBS -N sort
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=20
#PBS -q joye_q
#PBS -l mem=200gb
module load SAMtools/1.10-GCC-8.2.0-2.31.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING

for file in *.bam

do
samtools sort -t 20 $file > sorted.$file
done




#PBS -S /bin/bash
#PBS -N summarize_contigs
#PBS -l walltime=128:00:00
#PBS -l nodes=1:ppn=64
#PBS -q joye_q
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN510_Sed_34_OC26_combined.fastq  sorted.EN510_34.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN586_Sed_65_OC26_combined.fastq  sorted.EN586_65.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C89_OC26_combined.fastq  sorted.OC468-2_C89.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_combined.fastq  sorted.AT18-02_MUC19-8_16-21.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN510_Sed_39_OC26_combined.fastq  sorted.EN510_39.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN586_Sed_70_OC26_combined.fastq  sorted.EN586_70.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C93_OC26_combined.fastq  sorted.OC468-2_C93.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT18-02_Sed_MUC19-8_0-3_combined.fastq  sorted.AT18-02_Sed_MUC19-8_0-3.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN510_Sed_33_OC26_combined.fastq  sorted.EN510_Sed_33.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN586_Sed_64_OC26_combined.fastq  sorted.EN586_Sed_64.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/PE1031_Sed_54_OC26_combined.fastq  sorted.PE1031_54.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_OC26_combined.fastq sorted.AT26-13_43.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN527_Sed_45_OC26_combined.fastq sorted.EN527_45.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN600_Sed_74_OC26_combined.fastq sorted.EN600_74.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/PE1031_Sed_96_OC26_combined.fastq sorted.PE1031_96.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_48_OC26_combined.fastq sorted.AT26-13_48.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN527_Sed_50_OC26_combined.fastq sorted.EN527_50.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN600_Sed_79_OC26_combined.fastq sorted.EN600_79.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/PE1031_Sed_53_OC26_combined.fastq sorted.PE1031_Sed_53.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_42_OC26_combined.fastq sorted.AT26-13_Sed_42.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN527_Sed_44_OC26_combined.fastq sorted.EN527_Sed_44.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN600_Sed_73_OC26_combined.fastq sorted.EN600_Sed_73.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/PE1031_Sed_95_OC26_combined.fastq sorted.PE1031_Sed_95.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/AT26-13_Sed_43_JW826_combined.fastq sorted.AT26-13_Sed_43_JW826.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN559_Sed_168_OC26_combined.fastq sorted.EN559_168.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C82_STE25_combined.fastq sorted.OC468-2_C82_STE25.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN496_Sed_122_OC26_combined.fastq sorted.EN496_122.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN559_Sed_174_OC26_combined.fastq sorted.EN559_174.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C83_STE25_combined.fastq sorted.OC468-2_C83_STE25.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN496_Sed_117_OC26_combined.fastq sorted.EN496_Sed_117.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/EN559_Sed_167_OC26_combined.fastq  sorted.EN559_Sed_167.bam
runMetaBat.sh /scratch/rck80079/Baker_Tutorial/OC468-2_Sed_C86_STE25_combined.fastq sorted.OC468-2_C86_STE25.bam



####################################################################################################################################
#Step 8: Binning
#Metabat

#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT18-02_Sed_MUC19-8_0-3
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT18-02_Sed_MUC19-8_0-3

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/final.contigs.fa -a AT18-02_Sed_MUC19-8_0-3_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT18-02_Sed_MUC19-8_0-3/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN496_Sed_117
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN496_117

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/final.contigs.fa -a EN496_Sed_117_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN496_117/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN527_Sed_45_OC26
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN527_45

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/final.contigs.fa -a EN527_Sed_45_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN527_45/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN586_Sed_65
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN586_65

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/final.contigs.fa -a EN586_Sed_65_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN586_65/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C83_STE25
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C83

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/final.contigs.fa -a OC468-2_Sed_C83_STE25_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C83/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_PE1031_Sed_95
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/PE1031_95

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/final.contigs.fa -a PE1031_Sed_95_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/PE1031_95/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT18-02_Sed_MUC19-8_16-21
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT18-02_Sed_MUC19-8_16-21

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/final.contigs.fa -a AT18-02_Sed_MUC19-8_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT18-02_Sed_MUC19-8_16-21/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000

#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN496_Sed_122
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN496_122


metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/final.contigs.fa -a EN496_Sed_122_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN496_122/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000



#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN527_Sed_50
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN527_50


metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/final.contigs.fa -a EN527_Sed_50_OC26_combined.fastq.depth.txt  -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN527_50/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN586_Sed_70
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN586_70

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/final.contigs.fa -a EN586_Sed_70_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN586_70/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C86_STE25
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C86

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/final.contigs.fa -a OC468-2_Sed_C86_STE25_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C86/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_PE1031_Sed_96
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/PE1031_96

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/final.contigs.fa -a PE1031_Sed_96_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/PE1031_96/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT26-13_Sed_42_OC26
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT26-13_Sed_42

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/final.contigs.fa -a AT26-13_Sed_42_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT26-13_Sed_42/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN510_Sed_33
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN510_33

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/final.contigs.fa -a EN510_Sed_33_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN510_33/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN559_Sed_167
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN559_167

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/final.contigs.fa -a EN559_Sed_167_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN559_167/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN600_Sed_73
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN600_73

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/final.contigs.fa -a EN600_Sed_73_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN600_73/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C89
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C89

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/final.contigs.fa -a OC468-2_Sed_C89_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C89/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT26-13_Sed_43
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT26-13_Sed_43

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/final.contigs.fa -a AT26-13_Sed_43_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT26-13_Sed_43/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN510_Sed_34
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN510_34

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/final.contigs.fa -a EN510_Sed_34_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN510_34/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN559_Sed_168
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN559_168

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/final.contigs.fa -a EN559_Sed_168_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN559_168/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000



#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN600_Sed_74
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN600_74

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/final.contigs.fa -a EN600_Sed_74_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN600_74/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C93
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C93

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/final.contigs.fa -a OC468-2_Sed_C93_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C93/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT26-13_Sed_43_JW826
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT26-13_Sed_43_JW826

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/final.contigs.fa -a AT26-13_Sed_43_JW826_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT26-13_Sed_43_JW826/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN510_Sed_39_OC26
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN510_39

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/final.contigs.fa -a EN510_Sed_39_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN510_39/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN559_Sed_174_OC26
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN559_174

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/final.contigs.fa -a EN559_Sed_174_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN559_174/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN600_Sed_79
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN600_79

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/final.contigs.fa -a EN600_Sed_79_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN600_79/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_PE1031_Sed_53
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/PE1031_53

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/final.contigs.fa -a PE1031_Sed_53_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/PE1031_53/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_AT26-13_Sed_48
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT26-13_Sed_48

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/final.contigs.fa -a AT26-13_Sed_48_OC26_combined.fastq.depth.txt  -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/AT26-13_Sed_48/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN527_Sed_44
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN527_44

metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/final.contigs.fa -a EN527_Sed_44_OC26_combined.fastq.depth.txt  -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN527_44/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_EN586_Sed_64
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN586_64
metabat -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/final.contigs.fa -a EN586_Sed_64_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/EN586_64/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_OC468-2_Sed_C82_STE25
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C82

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/final.contigs.fa -a OC468-2_Sed_C82_STE25_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/OC468_C82/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


#PBS -S /bin/bash
#PBS -q highmem_q
#PBS -N testmetabat_PE1031_Sed_54
#PBS -l nodes=1:ppn=10
#PBS -l walltime=4:00:00
#PBS -l mem=250g
#PBS -j oe

#PBS -M username@uga.edu
#PBS -m ae

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/PE1031_54

metabat -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/final.contigs.fa -a PE1031_Sed_54_OC26_combined.fastq.depth.txt -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_BINNING/PE1031_54/Bins.txt -t 20 --minCVSum 0 --saveCls -d -v --minCV 0.1 -m 2000


########################
#In directory with all scripts, run the following to submit all of them at once:

for i in ls *.sh
do
qsub $i
done


####################################################################################################################################
#Step 9: Binning Maxbin
#Maxbin requires a different format abundance file, so you need to make that before you can bin.

#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N index_stats
#PBS -l nodes=1:ppn=20
#PBS -l walltime=4:00:00
#PBS -l mem=200g
#PBS -j oe

#PBS -m ae
cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted
module load SAMtools/1.10-GCC-8.2.0-2.31.1

for i in ls *.bam
do
samtools index $i
samtools idxstats $i >$i.abundance.txt

done






#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N testmaxbin_PE1031_Sed_54
#PBS -l nodes=1:ppn=20
#PBS -l walltime=80:00:00
#PBS -l mem=200g
#PBS -j oe

#PBS -m ae

module load MaxBin/2.2.7-GCC-8.2.0-2.31.1-Perl-5.28.1

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin

run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_44/EN527_44 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN527_Sed_44.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_44/EN527_44 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_45/EN527_45 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN527_45.bam.abundance.txt  -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_45/EN527_45 -min_contig_length 2000 -thread 20



run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_54/PE1031_Sed_54 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.PE1031_54.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_54/PE1031_Sed_54 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.AT18-02_Sed_MUC19-8_0-3.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_43_JW826/AT26-13_43_JW826 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.AT26-13_Sed_43_JW826.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_43_JW826/AT26-13_43_JW826 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN496_122/EN496_122 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN496_122.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN496_122/EN496_122 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_45/EN527_45 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN527_Sed_45.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_45/EN527_45 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_174/EN559_174 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN559_174.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_174/EN559_174 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_74/EN600_74 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN600_74.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_74/EN600_74 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C83_STE25/OC468-2_C83_STE25 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.OC468-2_C83_STE25.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C83_STE25/OC468-2_C83_STE25 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C93/OC468-2_C93 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.OC468-2_C93.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C93/OC468-2_C93 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.AT18-02_MUC19-8_16-21.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_48/AT26-13_48 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.AT26-13_48.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_48/AT26-13_48 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_34/EN510_34 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN510_34.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_34/EN510_34 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_50/EN527_50 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN527_50.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_50/EN527_50 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_65/EN586_65 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN586_65.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_65/EN586_65 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_79/EN600_79 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN600_79.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_79/EN600_79 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C86_STE25/OC468-2_C86_STE25 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.OC468-2_C86_STE25.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C86_STE25/OC468-2_C86_STE25 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_43/AT26-13_43 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.AT26-13_43.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_43/AT26-13_43 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_39/EN510_39 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN510_39.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_39/EN510_39 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_168/EN559_168 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN559_168.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_168/EN559_168 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_70/EN586_70 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN586_70.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_70/EN586_70 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C82_STE25/OC468-2_C82_STE25 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.OC468-2_C82_STE25.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C82_STE25/OC468-2_C82_STE25 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C89/OC468-2_C89 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.OC468-2_C89.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C89/OC468-2_C89 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_96/PE1031_96 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.PE1031_96.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_96/PE1031_96 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_53/PE1031_Sed_53 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.PE1031_Sed_53.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_53/PE1031_Sed_53 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_95/PE1031_Sed_95 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.PE1031_Sed_95.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_95/PE1031_Sed_95 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN496_Sed_117/EN496_Sed_117 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN496_Sed_117.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN496_Sed_117/EN496_Sed_117 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_Sed_33/EN510_Sed_33 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN510_Sed_33.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_Sed_33/EN510_Sed_33 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_44/EN527_44 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN527_44.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_44/EN527_44 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_Sed_42/AT26-13_Sed_42 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.AT26-13_Sed_42.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_Sed_42/AT26-13_Sed_42 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_Sed_167/EN559_Sed_167 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN559_Sed_167.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_Sed_167/EN559_Sed_167 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_Sed_64/EN586_Sed_64 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN586_Sed_64.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_Sed_64/EN586_Sed_64 -min_contig_length 2000 -thread 20
run_MaxBin.pl -contig /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/contigs-2000.fasta -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_Sed_73/EN600_Sed_73 -abund /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/sorted/sorted.EN600_Sed_73.bam.abundance.txt -out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_Sed_73/EN600_Sed_73 -min_contig_length 2000 -thread 20


##################################################################################################
Step 10: Binning Concoct
#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N testConcoct_PE1031_Sed_54
#PBS -l nodes=1:ppn=20
#PBS -l walltime=80:00:00
#PBS -l mem=200g
#PBS -j oe

#PBS -m ae


cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct

module load CONCOCT/1.1.0-foss-2019a-Python-2.7.15

concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_54/PE1031_Sed_54_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_54
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT18-02_Sed_MUC19-8_0-3/AT18-02_Sed_MUC19-8_0-3_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT18-02_Sed_MUC19-8_0-3
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT26-13_Sed_43_JW826/AT26-13_Sed_43_JW826_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT26-13_Sed_43_JW826
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN527_45/EN527_Sed_45_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN527_45
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN559_174/EN559_Sed_174_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN559_174
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C83/OC468-2_Sed_C83_STE25_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C83
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT18-02_Sed_MUC19-8_16-21/AT18-02_Sed_MUC19-8_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT18-02_Sed_MUC19-8_16-21
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT26-13_Sed_48/AT26-13_Sed_48_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT26-13_Sed_48
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN510_34/EN510_Sed_34_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN510_34
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN527_50/EN527_Sed_50_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN527_50
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN600_74/EN600_Sed_74_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN600_74
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C86/OC468-2_Sed_C86_STE25_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C86
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN510_39/EN510_Sed_39_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN510_39

concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN586_65/EN586_Sed_65_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN586_65
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN600_79/EN600_Sed_79_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN600_79
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C89/OC468-2_Sed_C89_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C89
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT26-13_Sed_43/AT26-13_Sed_43_OC26_combined.fastq.depth.txt  --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT26-13_Sed_43
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN496_122/EN496_Sed_122_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN496_122
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN559_168/EN559_Sed_168_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN559_168
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN586_70/EN586_Sed_70_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN586_70
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C82/OC468-2_Sed_C82_STE25_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C82
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C93/OC468-2_Sed_C93_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C93
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_96/PE1031_Sed_96_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_96
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_53/PE1031_Sed_53_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_53
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_95/PE1031_Sed_95_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_95
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN496_117/EN496_Sed_117_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN496_117
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN510_33/EN510_Sed_33_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN510_33
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN527_44/EN527_Sed_44_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN527_44
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT26-13_Sed_42/AT26-13_Sed_42_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT26-13_Sed_42
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN559_167/EN559_Sed_167_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN559_167
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN586_64/EN586_Sed_64_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN586_64
concoct --coverage_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN600_73/EN600_Sed_73_OC26_combined.fastq.depth.txt --composition_file /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/contigs-2000.fasta -b /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN600_73





####################################################################################################################################
Step 11: Dastool file prep
#Metabat:
#Create MetabatContig_list.tsv list needed for DAStool

for dir in Bins.txt.*; do
    mv $dir "${PWD##*/}_${dir}"
done

awk '/>/{sub("$","&""_"FILENAME);sub(/\.fa/,x)}1' *.fa > concat.fasta
grep ">" concat.fasta > concat.txt
sed -i 's/\.//g' concat.txt
sed -i 's/>//g' concat.txt
sed 's/_/\t/2' concat.txt > ${PWD##*/}_concat.tsv

#Concoct:
#Make Sample_CocnoctBins.tsv file for DAStool - use mapping file made by CONCOCT named concoct_clustering_gt1000.csv, change commas to tabs.
#Example:
#For all directories in WD, convert csv to tsv

for d in */ ; do
  sed 's/,/\t/g' clustering_gt1000.csv > ${PWD##*/}_ConcoctBins.tsv
done



#####MaxBin
#Convert to .tsv

#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N DAS_Tool
#PBS -l nodes=1:ppn=4
#PBS -l walltime=120:00:00
#PBS -l mem=200gb

module load DAS_Tool/1.1.1-foss-2018a-R-3.6.2-Python-2.7.14

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin


for d in */ ; do
  bash /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/scripts/Fasta_to_Scaffolds2Bin.sh -i "$d" -e fasta > ./$d${d///}_maxbin.scaffolds2bin.tsv
done

####################################################################################################################################
Step 12: Dastool/CheckM to find best bins

#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N DAS_Tool
#PBS -l nodes=1:ppn=4
#PBS -l walltime=120:00:00
#PBS -l mem=4gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool
module load DAS_Tool/1.1.1-foss-2018a-R-3.6.2-Python-2.7.14

DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_53/PE1031_53_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_53/PE1031_53_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_53/PE1031_Sed_53_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/PE1031_Sed_53 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C89/OC468_C89_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C89/OC468_C89_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C89/OC468-2_C89_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/OC468-2_C89 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C82/OC468_C82_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C82/OC468_C82_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C82_STE25/OC468-2_C82_STE25_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/OC468-2_C82_STE25 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_53/PE1031_53_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_53/PE1031_53_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_53/PE1031_Sed_53_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/PE1031_Sed_53 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN527_50/EN527_50_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN527_50/EN527_50_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_50/EN527_50_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN527_50 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_95/PE1031_95_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_95/PE1031_95_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_95/PE1031_Sed_95_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/PE1031_Sed_95 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN527_44/EN527_44_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN527_44/EN527_44_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_44/EN527_44_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN527_44 --db_directory /scratch/rck80079/db_directory --write_bins 1 --search_engine diamond
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN510_33/EN510_33_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN510_33/EN510_33_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_Sed_33/EN510_Sed_33_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN510_Sed_33 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN600_73/EN600_73_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN600_73/EN600_73_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_Sed_73/EN600_Sed_73_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN600_Sed_73 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN586_64/EN586_64_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN586_64/EN586_64_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_Sed_64/EN586_Sed_64_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN586_Sed_64 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT26-13_Sed_42/AT26-13_Sed_42_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT26-13_Sed_42/AT26-13_Sed_42_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_Sed_42/AT26-13_Sed_42_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/AT26-13_Sed_42 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN496_117/EN496_117_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN496_117/EN496_117_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN496_Sed_117/EN496_Sed_117_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN496_Sed_117 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN559_167/EN559_167_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN559_167/EN559_167_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_Sed_167/EN559_Sed_167_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN559_Sed_167 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT18-02_Sed_MUC19-8_0-3/AT18-02_Sed_MUC19-8_0-3_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT18-02_Sed_MUC19-8_0-3/AT18-02_Sed_MUC19-8_0-3_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/contigs-2000.fasta  -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/AT18-02_Sed_MUC19-8_0-3 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT26-13_Sed_43/AT26-13_Sed_43_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT26-13_Sed_43/AT26-13_Sed_43_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_43/AT26-13_43_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/AT26-13_43 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN496_122/EN496_122_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN496_122/EN496_122_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN496_122/EN496_122_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN496_122 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN559_168/EN559_168_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN559_168/EN559_168_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_168/EN559_168_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN559_168 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN586_70/EN586_70_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN586_70/EN586_70_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_70/EN586_70_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN586_70 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C93/OC468_C93_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C93/OC468_C93_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C93/OC468-2_C93_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/OC468-2_C93 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_96/PE1031_96_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_96/PE1031_96_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_96/PE1031_96_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/PE1031_96 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT26-13_Sed_43_JW826/AT26-13_Sed_43_JW826_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT26-13_Sed_43_JW826/AT26-13_Sed_43_JW826_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_43_JW826/AT26-13_43_JW826_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/AT26-13_43_JW826 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN527_45/EN527_45_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN527_45/EN527_45_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN527_45/EN527_45_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN527_45 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN559_174/EN559_174_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN559_174/EN559_174_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN559_174/EN559_174_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN559_174 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C83/OC468_C83_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C83/OC468_C83_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C83_STE25/OC468-2_C83_STE25_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/OC468-2_C83 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT18-02_Sed_MUC19-8_16-21/AT18-02_Sed_MUC19-8_16-21_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT18-02_Sed_MUC19-8_16-21/AT18-02_Sed_MUC19-8_16-21_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/AT18-02_MUC19-8_16-21 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/AT26-13_Sed_48/AT26-13_Sed_48_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/AT26-13_Sed_48/AT26-13_Sed_48_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/AT26-13_48/AT26-13_48_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/AT26-13_48 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN510_34/EN510_34_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN510_34/EN510_34_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_34/EN510_34_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN510_34 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN600_74/EN600_74_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN600_74/EN600_74_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_74/EN600_74_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN600_74 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/OC468_C86/OC468_C86_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/OC468_C86/OC468_C86_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/OC468-2_C86_STE25/OC468-2_C86_STE25_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/OC468-2_C86_STE25 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/PE1031_54/PE1031_54_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/PE1031_54/PE1031_54_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/PE1031_Sed_54/PE1031_Sed_54_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/PE1031_Sed_54 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN510_39/EN510_39_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN510_39/EN510_39_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN510_39/EN510_39_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN510_39 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN586_65/EN586_65_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN586_65/EN586_65_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN586_65/EN586_65_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN586_65 --db_directory /scratch/rck80079/db_directory --write_bins 1
DAS_Tool --search_engine diamond -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Concoct/EN600_79/EN600_79_ConcoctBins.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Metabat/EN600_79/EN600_79_concat.tsv,/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/04_Maxbin/EN600_79/EN600_79_maxbin.scaffolds2bin.tsv -l Concoct,Metabat,Maxbin -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/contigs-2000.fasta -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/EN600_79 --db_directory /scratch/rck80079/db_directory --write_bins 1


#Rename best bins chosen to follow format: bin_1.fna, bin_2.fna, etc. so no longer have metabat or concoct in name and random bin number program gave it
#i.e. mv Bin_Concoct_21.fna Bin_1.fna
#mv Bin_Metabat_55.fna Bin_2.fna


#Rename scaffold headers so match bin name
#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N rename
#PBS -l nodes=1:ppn=4
#PBS -l walltime=20:00:00
#PBS -l mem=50gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins

for d in */*.fna ; do
  awk '/>/{sub(/>/,"&""'${d##*/}' ");sub(/\.fna/, "");}1' $d > $d.tmp && mv $d.tmp $d
done



#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N checkm
#PBS -l nodes=1:ppn=4
#PBS -l walltime=20:00:00
#PBS -l mem=100gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins

ml CheckM/1.0.12


checkm lineage_wf ./AT18-02_MUC19-8_16-21_DASTool_bins ./AT18-02_MUC19-8_16-21_DASTool_bins/test
checkm lineage_wf ./EN496_Sed_117_DASTool_bins ./EN496_Sed_117_DASTool_bins/test
checkm lineage_wf ./EN559_168_DASTool_bins ./EN559_168_DASTool_bins/test
checkm lineage_wf ./EN600_79_DASTool_bins ./EN600_79_DASTool_bins/test
checkm lineage_wf ./AT18-02_Sed_MUC19-8_0-3_DASTool_bins ./AT18-02_Sed_MUC19-8_0-3_DASTool_bins/test
checkm lineage_wf ./EN510_34_DASTool_bins ./EN510_34_DASTool_bins/test
checkm lineage_wf ./EN559_174_DASTool_bins  ./EN559_174_DASTool_bins/test
checkm lineage_wf ./EN600_Sed_73_DASTool_bins ./EN600_Sed_73_DASTool_bins/test
checkm lineage_wf ./AT26-13_43_DASTool_bins ./AT26-13_43_DASTool_bins/test
checkm lineage_wf ./EN510_39_DASTool_bins ./EN510_39_DASTool_bins/test
checkm lineage_wf ./EN559_Sed_167_DASTool_bins ./EN559_Sed_167_DASTool_bins/test
checkm lineage_wf ./OC468-2_C83_DASTool_bins ./OC468-2_C83_DASTool_bins/test
checkm lineage_wf ./AT26-13_43_JW826_DASTool_bins ./AT26-13_43_JW826_DASTool_bins/test
checkm lineage_wf ./EN510_Sed_33_DASTool_bins ./EN510_Sed_33_DASTool_bins/test
checkm lineage_wf ./EN586_65_DASTool_bins ./EN586_65_DASTool_bins/test
checkm lineage_wf ./OC468-2_C93_DASTool_bins ./OC468-2_C93_DASTool_bins/test
checkm lineage_wf ./AT26-13_48_DASTool_bins ./AT26-13_48_DASTool_bins/test
checkm lineage_wf ./EN527_44_DASTool_bins ./EN527_44_DASTool_bins/test
checkm lineage_wf ./EN586_70_DASTool_bins ./EN586_70_DASTool_bins/test
checkm lineage_wf ./PE1031_96_DASTool_bins ./PE1031_96_DASTool_bins/test
checkm lineage_wf ./AT26-13_Sed_42_DASTool_bins ./AT26-13_Sed_42_DASTool_bins/test
checkm lineage_wf ./EN527_45_DASTool_bins ./EN527_45_DASTool_bins/test
checkm lineage_wf ./EN586_Sed_64_DASTool_bins ./EN586_Sed_64_DASTool_bins/test
checkm lineage_wf ./PE1031_Sed_54_DASTool_bins ./PE1031_Sed_54_DASTool_bins/test
checkm lineage_wf ./EN496_122_DASTool_bins ./EN496_122_DASTool_bins/test
checkm lineage_wf ./EN527_50_DASTool_bins ./EN527_50_DASTool_bins/test
checkm lineage_wf ./EN600_74_DASTool_bins ./EN600_74_DASTool_bins/test







#####################################################################################################################################
#Step 14: Put metagenomes into Anvio
#Take final.contigs.fa from 02_ASSEMBLY and bam files from 03_MAPPING
#concat all final.contigs.fa files to make one large file for all oil fluff samples
#Use that as the 'coassembly' for anvio, along with sample specific bam files to build dbs for each





#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N jobname
#PBS -l nodes=1:ppn=1
#PBS -l walltime=4:00:00
#PBS -l mem=2gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/

cat 2010/final.contigs.fa, 2010_2/final.contigs.fa, 2011/final.contigs.fa, 2012/final.contigs.fa, 2013/final.contigs.fa, 2014/final.contigs.fa, 2015/final.contigs.fa, 2016/final.contigs.fa, 2017/final.contigs.fa >Oilfluff.fa


#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N reformat
#PBS -l nodes=1:ppn=1
#PBS -l walltime=4:00:00
#PBS -l mem=2gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/


singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta Oilfluff.fa -o Oilfluff-fixed.fa -l 1000
sed -e 's/\s\+/_/g' Oilfluff-fixed.fa > Oilfluff-fixed2.fa
sed -e 's/=\+/:/g' Oilfluff-fixed.fa > Oilfluff-fixed2.fa
cut -f1,2 -d'_' Oilfluff-fixed.fa > Oilfluff-fixed2.fa
mv Oilfluff-fixed2.fa Oilfluff-fixed.fa

#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N cog
#PBS -l nodes=1:ppn=1
#PBS -l walltime=100:00:00
#PBS -l mem=2gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f Oilfluff-fixed.fa -o contigs.db -n 'Oil Fluff Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-setup-ncbi-cogs  --reset --cog-data-dir /scratch/rck80079/Cogs --just-do-it
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs


#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N cog
#PBS -l nodes=1:ppn=1
#PBS -l walltime=10:00:00
#PBS -l mem=2gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010contigs.db -n 'PE1031_53 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/final_contigs/2011.final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011contigs.db -n 'EN496_117 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/final_contigs/2012.final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012contigs.db -n 'EN510_33 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/final_contigs/2013.final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013contigs.db -n 'EN527_44 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/final_contigs/2014.final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014contigs.db -n 'AT26-13_42 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/final_contigs/2015.final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015contigs.db -n 'EN559_167 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/final_contigs/2016.final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016contigs.db -n 'EN586_64 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/final_contigs/2017.final.contigs.fa -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/final.contigs.fa -o 2017contigs.db -n 'EN600_73'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs




####Do this for the rest of the Samples too

#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N cogs
#PBS -l nodes=1:ppn=1
#PBS -l walltime=100:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db -n 'OC468_82 Database'
#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db --num-threads 4
#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/simp_final.contigs.fa -l 1000 --simplify-names
#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db -n 'OC468_82 Database'
#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db --num-threads 4
#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs


singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_contigs.db -n 'AT18-02_MUC19-8_0-3 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_contigs.db -n 'AT18-02_MUC19-8_16-21 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_contigs.db -n 'AT26-13_43 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_contigs.db -n 'AT26-13_43_JW826 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_contigs.db -n 'AT26-13_48 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_contigs.db -n 'EN496_122 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_contigs.db -n 'EN510_34 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_contigs.db -n 'EN510_39 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_contigs.db -n 'EN527_45 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_contigs.db -n 'EN527_50 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_contigs.db -n 'EN559_168 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_contigs.db -n 'EN559_174 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_contigs.db -n 'EN586_65 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_contigs.db -n 'EN559_174 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_contigs.db -n 'EN600_74 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_contigs.db -n 'EN600_79 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_contigs.db -n 'OC468-2_C83_STE25 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_contigs.db -n 'OC468-2_C86_STE25 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_contigs.db -n 'OC468-2_C89 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_contigs.db -n 'OC468-2_C93 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_contigs.db -n 'PE1031_54 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-script-reformat-fasta /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/simp_final.contigs.fa -l 1000 --simplify-names
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-gen-contigs-database -f /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/simp_final.contigs.fa -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_contigs.db -n 'PE1031_96 Database'
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-hmms -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_contigs.db --num-threads 4
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-run-ncbi-cogs -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_contigs.db --num-threads 4  --cog-data-dir  /scratch/rck80079/Cogs


#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N kaiju
#PBS -l nodes=1:ppn=20
#PBS -l walltime=100:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
module load Kaiju/1.7.3-gompi-2019b-Python-3.7.4
kaiju-makedb -s nr -t 20



#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N taxa
#PBS -l nodes=1:ppn=20
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c contigs.db -o gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010contigs.db -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011contigs.db -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012contigs.db -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013contigs.db -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014contigs.db -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015contigs.db -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016contigs.db -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017contigs.db -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls.fa


######Do for the rest of the samples as well


#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N taxa
#PBS -l nodes=1:ppn=20
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_gene_calls.fa

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls.fa
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-get-sequences-for-gene-calls -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_contigs.db -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls.fa




#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N taxa
#PBS -l nodes=1:ppn=16
#PBS -l walltime=10:00:00
#PBS -l mem=200gb
module load Kaiju/1.7.3-gompi-2019b-Python-3.7.4
cd /scratch/rck80079/kaiju_out/

kaiju -t /scratch/rck80079/kaiju/nodes.dmp \
      -f /scratch/rck80079/kaiju/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls.fa \
      -o /scratch/rck80079/kaiju_out/2014gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/kaiju/nodes.dmp \
      -f /scratch/rck80079/kaiju/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls.fa \
      -o /scratch/rck80079/kaiju_out/2015gene_calls_nr.out \
      -z 16 \
      -v

      kaiju -t /scratch/rck80079/kaiju/nodes.dmp \
            -f /scratch/rck80079/kaiju/kaiju_db_nr.fmi \
            -i scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls.fa \
            -o /scratch/rck80079/kaiju_out/OC468-2_C83_STE25_gene_calls_nr.out \
            -z 16 \
            -v




kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls.fa \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls.fa \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls.fa \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls.fa \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls.fa \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls.fa \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls.fa \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls.fa \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls_nr.out \
      -z 16 \
      -v


#################Do this for the rest of the samples too.

#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N taxa
#PBS -l nodes=1:ppn=1
#PBS -l walltime=10:00:00
#PBS -l mem=200gb
module load Kaiju/1.7.3-gompi-2019b-Python-3.7.4
kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i cratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls.fa \
      -o cratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls_nr.out \
      -z 16 \
      -v


kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls_nr.out \
      -z 16 \
      -v

kaiju -t /scratch/rck80079/nodes.dmp \
      -f /scratch/rck80079/kaiju_db_nr.fmi \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_gene_calls.fa \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_gene_calls_nr.out \
      -z 16 \
      -v







#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N taxa_names
#PBS -l nodes=1:ppn=1
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
module load Kaiju/1.7.3-gompi-2019b-Python-3.7.4
kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls_nr.out \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species
kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls_nr.out \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species
kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls_nr.out \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species
kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls_nr.out \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species
kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls_nr.out \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species
kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls_nr.out \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species
kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls_nr.out \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species
kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls_nr.out \
      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

#kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
#      -n /scratch/rck80079/names.dmp \
#      -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/gene_calls_nr.out \
#      -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/gene_calls_nr.names \
#      -r superkingdom,phylum,order,class,family,genus,species



################Do this for the rest of the samples too
#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N taxa_names
#PBS -l nodes=1:ppn=1
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

#cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
module load Kaiju/1.7.3-gompi-2019b-Python-3.7.4





kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species


kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species


kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species


kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls_nr.out \
      -o /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species

kaiju-addTaxonNames -t /scratch/rck80079/nodes.dmp \
      -n /scratch/rck80079/names.dmp \
      -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_gene_calls_nr.out \
      -o //scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_gene_calls_nr.names \
      -r superkingdom,phylum,order,class,family,genus,species



#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N parse
#PBS -l nodes=1:ppn=20
#PBS -l walltime=10:00:00
#PBS -l mem=200gb







cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
#singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/gene_calls_nr.names \
#-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/contigs.db \
#-p kaiju \
#--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls_nr.names \
-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls_nr.names \
-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011contigs.db \
-p kaiju \
--just-do-it
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls_nr.names \
-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012contigs.db \
-p kaiju \
--just-do-it
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls_nr.names \
-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013contigs.db \
-p kaiju \
--just-do-it
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls_nr.names \
-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014contigs.db \
-p kaiju \
--just-do-it
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls_nr.names \
-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015contigs.db \
-p kaiju \
--just-do-it
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls_nr.names \
-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016contigs.db \
-p kaiju \
--just-do-it
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls_nr.names \
-c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017contigs.db \
-p kaiju \
--just-do-it


#####################Do this for the rest of the samples too
#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N parse
#PBS -l nodes=1:ppn=20
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db \
-p kaiju \
--just-do-it



singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls_nr.out \
-c scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_contigs.db \
-p kaiju \
--just-do-it

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-import-taxonomy-for-genes -i /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls_nr.out \
-c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_contigs.db \
-p kaiju \
--just-do-it





#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N anvi-init
#PBS -l nodes=1:ppn=20
#PBS -l walltime=100:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/PE1031_Sed_53.bam -o PE1031_Sed_53.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/PE1031_Sed_95.bam -o PE1031_Sed_95.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN496_Sed_117.bam -o EN496_Sed_117.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN510_Sed_33.bam -o EN510_Sed_33.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN527_Sed_44.bam -o EN527_Sed_44.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT26-13_Sed_42.bam -o AT26-13_Sed_42.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN559_Sed_167.bam -o EN559_Sed_167.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN586_Sed_64.bam -o EN586_Sed_64.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN600_Sed_73.bam -o EN600_Sed_73.bam



##################Do this for the rest of the samples too
#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N anvi-init
#PBS -l nodes=1:ppn=20
#PBS -l walltime=100:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C82_STE25.bam -o OC468-2_C82_STE25.bam


singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT18-02_MUC19-8_16-21.bam -o AT18-02_MUC19-8_16-21.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT18-02_Sed_MUC19-8_0-3.bam -o AT18-02_Sed_MUC19-8_0-3.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT26-13_43.bam -o AT26-13_43.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT26-13_48.bam -o AT26-13_48.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT26-13_Sed_43_JW826.bam -o AT26-13_Sed_43_JW826.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN496_122.bam -o EN496_122.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN510_34.bam -o EN510_34.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN510_39.bam -o EN510_39.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN527_45.bam -o EN527_45.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN527_50.bam -o EN527_50.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN559_168.bam -o EN559_168.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN559_174.bam -o EN559_174.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN586_65.bam -o EN586_65.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN586_70.bam -o EN586_70.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN600_74.bam -o EN600_74.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN600_79.bam -o EN600_79.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C83_STE25.bam -o OC468-2_C83_STE25.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C86_STE25.bam -o OC468-2_C86_STE25.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C89.bam -o OC468-2_C89.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/PE1031_54.bam -o PE1031_54.bam
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-init-bam  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/PE1031_96.bam -o PE1031_96.bam






#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N anvi-profile
#PBS -l nodes=1:ppn=20
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/

singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/PE1031_Sed_53.bam -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN496_Sed_117.bam -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN510_Sed_33.bam -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN527_Sed_44.bam  -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT26-13_Sed_42.bam -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN559_Sed_167.bam -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN586_Sed_64.bam -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN600_Sed_73.bam -c /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017contigs.db

################################Do this for other samples too
#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N anvi-profile
#PBS -l nodes=1:ppn=20
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C82_STE25.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db


singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT18-02_MUC19-8_16-21.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT18-02_Sed_MUC19-8_0-3.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT26-13_43.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT26-13_48.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/AT26-13_Sed_43_JW826.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN496_122.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN510_34.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN510_39.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN527_45.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN527_50.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN559_168.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN559_174.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN586_65.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN586_70.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN600_74.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/EN600_79.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C83_STE25.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C86_STE25.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C89.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/PE1031_54.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/PE1031_96.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_contigs.db
singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-profile -i /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C93.bam -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_contigs.db











#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N 2010krona
#PBS -l nodes=1:ppn=1
#PBS -l walltime=10:00:00
#PBS -l mem=2gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
module load KronaTools/2.7
module load Kaiju/1.7.3-gompi-2019b-Python-3.7.4

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls_nr.out  -o  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010.krona -u

ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010.krona.html /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010.krona


kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls_nr.out  -o  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011.krona -u

ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011.krona.html /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls_nr.out  -o  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012.krona -u

ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012.krona.html /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls_nr.out  -o  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013.krona -u

ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013.krona.html /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls_nr.out  -o  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014.krona -u

ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014.krona.html /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls_nr.out  -o  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015.krona -u

ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015.krona.html /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls_nr.out  -o  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016.krona -u

ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016.krona.html /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls_nr.out  -o  /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017.krona -u

ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017.krona.html /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017.krona




###################Do this for the rest of the samples too.

#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N 2010krona
#PBS -l nodes=1:ppn=1
#PBS -l walltime=10:00:00
#PBS -l mem=2gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/
module load KronaTools/2.7
module load Kaiju/1.7.3-gompi-2019b-Python-3.7.4

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/PE1031_96.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/PE1031_54.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/OC468-2_C93.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/OC468-2_C89.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/OC468-2_C86_STE25.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/OC468-2_C83_STE25.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN600_79.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN600_74.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN586_70.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN586_65.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN559_174.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN559_168.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN527_50.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN527_45.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN510_39.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN510_34.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/EN496_122.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/AT26-13_48.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/AT26-13_43_JW826.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/AT26-13_43.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/AT18-02_MUC19-8_16-21.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/AT18-02_MUC19-8_0-3.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3.krona

kaiju2krona -t /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/nodes.dmp -n /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/names.dmp \
-i  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468_C82/OC468_C82_gene_calls_nr.out  -o  /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468_C82/OC468_C82.krona -u
ktImportText -o /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/OC468_C82.krona.html /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468_C82/OC468_C82.krona







#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N taxa_names
#PBS -l nodes=1:ppn=1
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/kaiju_out
module load Kaiju/1.7.3-gompi-2019b-Python-3.7.4

kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o OC26kaiju_summary.tsv 2010gene_calls_nr.out EN527_45_gene_calls_nr.out 2011gene_calls_nr.out EN527_50_gene_calls_nr.out 2012gene_calls_nr.out EN559_168_gene_calls_nr.out 2013gene_calls_nr.out EN559_174_gene_calls_nr.out 2016gene_calls_nr.out EN586_65_gene_calls_nr.out 2017gene_calls_nr.out EN586_70_gene_calls_nr.out AT18-02_MUC19-8_0-3_gene_calls_nr.out EN600_74_gene_calls_nr.out AT18-02_MUC19-8_16-21_gene_calls_nr.out EN600_79_gene_calls_nr.out AT26-13_43_gene_calls_nr.out OC468-2_C86_STE25_gene_calls_nr.out AT26-13_43_JW826_gene_calls_nr.out OC468-2_C89_gene_calls_nr.out AT26-13_48_gene_calls_nr.out OC468-2_C93_gene_calls_nr.out EN496_122_gene_calls_nr.out OC468_C82_gene_calls_nr.out EN510_34_gene_calls_nr.out PE1031_54_gene_calls_nr.out EN510_39_gene_calls_nr.out PE1031_96_gene_calls_nr.out




kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o OC468-2_C82_STE25kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o PE1031_96kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o PE1031_54kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o OC468-2_C93kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o PE1031_96kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o OC468-2_C89kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o OC468-2_C86_STE25kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o OC468-2_C83_STE25kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN600_79kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN600_74kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o AT26-13_48kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN496_122kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN510_34kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN510_39kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN527_45kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN527_50kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN559_168kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN559_174kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN586_65kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o EN586_70kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o AT26-13_43_JW826kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o AT26-13_43kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o AT18-02_MUC19-8_16-21kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o AT18-02_MUC19-8_0-3kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o OC468_C82kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468_C82/OC468_C82_gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o 2010kaiju_summary.tsv /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o 2011kaiju_summary.tsv /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o 2012kaiju_summary.tsv /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o 2013kaiju_summary.tsv /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o 2014kaiju_summary.tsv /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o 2015kaiju_summary.tsv /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o 2016kaiju_summary.tsv /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o 2017kaiju_summary.tsv /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls_nr.out
kaiju2table -t /scratch/rck80079/kaiju/nodes.dmp -n /scratch/rck80079/kaiju/names.dmp -r species -o OC468-2_C82_STE25kaiju_summary.tsv /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/PE1031_54_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/OC468-2_C93_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/PE1031_96_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/OC468-2_C89_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/OC468-2_C86_STE25_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/OC468-2_C83_STE25_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/EN600_79_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/EN600_74_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/AT26-13_48_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/EN496_122_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/EN510_34_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/EN510_39_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/EN527_45_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/EN527_50_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/EN559_168_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/EN559_174_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/EN586_65_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/EN586_70_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/AT26-13_43_JW826_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/AT26-13_43_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/AT18-02_MUC19-8_16-21_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/AT18-02_MUC19-8_0-3_gene_calls_nr.out /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468_C82/OC468_C82_gene_calls_nr.out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010gene_calls_nr.out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011gene_calls_nr.out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012gene_calls_nr.out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013gene_calls_nr.out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014gene_calls_nr.out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015gene_calls_nr.out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016gene_calls_nr.out /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017gene_calls_nr.out





###Test anvi-summarize


#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N anvi-profile
#PBS -l nodes=1:ppn=20
#PBS -l walltime=10:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/


singularity exec /usr/local/singularity-images/anvio-6.1.simg /opt/conda/envs/anvioenv/bin/anvi-summarize -p /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/03_MAPPING/OC468-2_C82_STE25.bam-ANVIO_PROFILE/PROFILE.db -c /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/OC468_C82_contigs.db  --list-collections


###################################Step 15: Phylosift

#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Phylosift_Oil_Fluff
#PBS -l nodes=1:ppn=1
#PBS -l walltime=50:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/07_Phylosift
module load PhyloSift/1.0.1-GCCcore-8.3.0

phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010/testfinal.contigs.fa --output PE1031_Sed_53
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2010_2/final.contigs.fa --output PE1031_Sed_95
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2011/final.contigs.fa --output EN496_Sed_117
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2012/final.contigs.fa --output EN510_Sed_33
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2013/final.contigs.fa --output EN527_Sed_44
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2014/final.contigs.fa --output AT26-13_Sed_42
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2015/final.contigs.fa --output EN559_Sed_167
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2016/final.contigs.fa --output EN586_Sed_64
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/02_ASSEMBLY/2017/final.contigs.fa --output EN600_Sed_73



#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Phylosift_Others
#PBS -l nodes=1:ppn=1
#PBS -l walltime=50:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/07_Phylosift
module load PhyloSift/1.0.1-GCCcore-8.3.0

phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_0-3/final.contigs.fa --output AT18-02_MUC19-8_0-3
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT18-02_MUC19-8_16-21/final.contigs.fa --output AT18-02_MUC19-8_16-21
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43/final.contigs.fa --output AT26-13_43
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_43_JW826/final.contigs.fa --output AT26-13_43_JW826
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/AT26-13_48/final.contigs.fa --output AT26-13_48
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN496_122/final.contigs.fa --output EN496_122
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_34/final.contigs.fa --output EN510_34
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN510_39/final.contigs.fa --output EN510_39
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_45/final.contigs.fa --output EN527_45
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN527_50/final.contigs.fa --output EN527_50
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_168/final.contigs.fa --output EN559_168
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN559_174/final.contigs.fa --output EN559_174
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_65/final.contigs.fa --output EN586_65
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN586_70/final.contigs.fa --output EN586_70
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_74/final.contigs.fa --output EN600_74
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/EN600_79/final.contigs.fa --output EN600_79
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C82_STE25/final.contigs.fa --output OC468-2_C82_STE25
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C83_STE25/final.contigs.fa --output OC468-2_C83_STE25
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C86_STE25/final.contigs.fa --output OC468-2_C86_STE25
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C89/final.contigs.fa --output OC468-2_C89
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/OC468-2_C93/final.contigs.fa --output OC468-2_C93
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_54/final.contigs.fa --output PE1031_54
phylosift all /scratch/rck80079/OC26_Leftover/02_LEFTOVERS/PE1031_96/final.contigs.fa --output PE1031_96





###############################Step 16: Clean Bins for MMgenome2




#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Reformat_Fasta
#PBS -l nodes=1:ppn=1
#PBS -l walltime=10:00:00
#PBS -l mem=100gb
cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/

sed 's/>Bin_1 />Bin_1_/' AT18-02_MUC19-8_16-21_DASTool_bins/Bin_1.fna > AT18-02_MUC19-8_16-21_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' AT18-02_MUC19-8_16-21_DASTool_bins/Bin_2.fna >AT18-02_MUC19-8_16-21_DASTool_bins/AT18-02_MUC19-8_16-21_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' AT18-02_MUC19-8_16-21_DASTool_bins/Bin_3.fna >AT18-02_MUC19-8_16-21_DASTool_bins/AT18-02_MUC19-8_16-21_Bin_3.fna
sed 's/>Bin_1 />Bin_1_/' AT18-02_Sed_MUC19-8_0-3_DASTool_bins/Bin_1.fna >AT18-02_Sed_MUC19-8_0-3_DASTool_bins/AT18-02_Sed_MUC19-8_0-3_Bin_1.fna
sed 's/>Bin_1 />Bin_1_/' AT26-13_43_DASTool_bins/Bin_1.fna >AT26-13_43_DASTool_bins/AT26-13_43_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' AT26-13_43_DASTool_bins/Bin_2.fna >AT26-13_43_DASTool_bins/AT26-13_43_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' AT26-13_43_JW826_DASTool_bins/Bin_1.fna >AT26-13_43_JW826_DASTool_bins/AT26-13_43_JW826_Bin_1.fna
sed 's/>Bin_1 />Bin_1_/' AT26-13_48_DASTool_bins/Bin_1.fna >AT26-13_48_DASTool_bins/AT26-13_48_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' AT26-13_48_DASTool_bins/Bin_2.fna >AT26-13_48_DASTool_bins/AT26-13_48_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' AT26-13_Sed_42_DASTool_bins/Bin_1.fna >AT26-13_Sed_42_DASTool_bins/AT26-13_Sed_42_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' AT26-13_Sed_42_DASTool_bins/Bin_2.fna >AT26-13_Sed_42_DASTool_bins/AT26-13_Sed_42_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' EN496_122_DASTool_bins/Bin_1.fna >EN496_122_DASTool_bins/EN496_122_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN496_122_DASTool_bins/Bin_2.fna >EN496_122_DASTool_bins/EN496_122_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN496_122_DASTool_bins/Bin_3.fna >EN496_122_DASTool_bins/EN496_122_Bin_3.fna
sed 's/>Bin_1 />Bin_1_/' EN496_Sed_117_DASTool_bins/Bin_1.fna >EN496_Sed_117_DASTool_bins/EN496_Sed_117_Bin_1.fna
sed 's/>Bin_1 />Bin_1_/' EN510_34_DASTool_bins/Bin_1.fna >EN510_34_DASTool_bins/EN510_34_Bin_1.fna
sed 's/>Bin_2 />bin_2_/' EN510_34_DASTool_bins/Bin_2.fna >EN510_34_DASTool_bins/EN510_34_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN510_34_DASTool_bins/Bin_3.fna >EN510_34_DASTool_bins/EN510_34_Bin_3.fna
sed 's/>Bin_4 />Bin_4_/' EN510_34_DASTool_bins/Bin_4.fna >EN510_34_DASTool_bins/EN510_34_Bin_4.fna
sed 's/>Bin_1 />Bin_1_/' EN510_39_DASTool_bins/Bin_1.fna >EN510_39_DASTool_bins/EN510_39_Bin_1.fna
sed 's/>Bin_1 />Bin_1_/' EN510_Sed_33_DASTool_bins/Bin_1.fna >EN510_Sed_33_DASTool_bins/EN510_Sed_33_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN510_Sed_33_DASTool_bins/Bin_2.fna >EN510_Sed_33_DASTool_bins/EN510_Sed_33_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' EN527_44_DASTool_bins/Bin_1.fna >EN527_44_DASTool_bins/EN527_44_Bin_1.fna
sed 's/>Bin_1 />Bin_1_/' EN527_45_DASTool_bins/Bin_1.fna >EN527_45_DASTool_bins/EN527_45_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN527_45_DASTool_bins/Bin_2.fna >EN527_45_DASTool_bins/EN527_45_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN527_45_DASTool_bins/Bin_3.fna >EN527_45_DASTool_bins/EN527_45_Bin_3.fna
sed 's/>Bin_4 />Bin_4_/' EN527_45_DASTool_bins/Bin_4.fna >EN527_45_DASTool_bins/EN527_45_Bin_4.fna
sed 's/>Bin_1 />Bin_1_/' EN527_50_DASTool_bins/Bin_1.fna >EN527_50_DASTool_bins/EN527_50_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN527_50_DASTool_bins/Bin_2.fna >EN527_50_DASTool_bins/EN527_50_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN527_50_DASTool_bins/Bin_3.fna >EN527_50_DASTool_bins/EN527_50_Bin_3.fna
sed 's/>Bin_4 />Bin_4_/' EN527_50_DASTool_bins/Bin_4.fna >EN527_50_DASTool_bins/EN527_50_Bin_4.fna
sed 's/>Bin_1 />Bin_1_/' EN559_168_DASTool_bins/Bin_1.fna >EN559_168_DASTool_bins/EN559_168_Bin_1.fna
sed 's/>Bin_2 />Bin_2/' EN559_168_DASTool_bins/Bin_2.fna >EN559_168_DASTool_bins/EN559_168_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN559_168_DASTool_bins/Bin_3.fna >EN559_168_DASTool_bins/EN559_168_Bin_3.fna
sed 's/>Bin_1 />Bin_1_/' EN559_174_DASTool_bins/Bin_1.fna >EN559_174_DASTool_bins/EN559_174_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN559_174_DASTool_bins/Bin_2.fna >EN559_174_DASTool_bins/EN559_174_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN559_174_DASTool_bins/Bin_3.fna >EN559_174_DASTool_bins/EN559_174_Bin_3.fna
sed 's/>Bin_4 />Bin_4_/' EN559_174_DASTool_bins/Bin_4.fna >EN559_174_DASTool_bins/EN559_174_Bin_4.fna
sed 's/>Bin_5 />Bin_5_/' EN559_174_DASTool_bins/Bin_5.fna >EN559_174_DASTool_bins/EN559_174_Bin_5.fna
sed 's/>Bin_6 />Bin_6_/' EN559_174_DASTool_bins/Bin_6.fna >EN559_174_DASTool_bins/EN559_174_Bin_6.fna
sed 's/>Bin_1 />Bin_1_/' EN559_Sed_167_DASTool_bins/Bin_1.fna >EN559_Sed_167_DASTool_bins/EN559_Sed_167_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN559_Sed_167_DASTool_bins/Bin_2.fna >EN559_Sed_167_DASTool_bins/EN559_Sed_167_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN559_Sed_167_DASTool_bins/Bin_3.fna >EN559_Sed_167_DASTool_bins/EN559_Sed_167_Bin_3.fna
sed 's/>Bin_4 />Bin_4_/' EN559_Sed_167_DASTool_bins/Bin_4.fna >EN559_Sed_167_DASTool_bins/EN559_Sed_167_Bin_4.fna
sed 's/>Bin_1 />Bin_1_/' EN586_65_DASTool_bins/Bin_1.fna >EN586_65_DASTool_bins/EN586_65_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN586_65_DASTool_bins/Bin_2.fna >EN586_65_DASTool_bins/EN586_65_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' EN586_70_DASTool_bins/Bin_1.fna >EN586_70_DASTool_bins/EN586_70_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN586_70_DASTool_bins/Bin_2.fna >EN586_70_DASTool_bins/EN586_70_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN586_70_DASTool_bins/Bin_3.fna >EN586_70_DASTool_bins/EN586_70_Bin_3.fna
sed 's/>Bin_4 />Bin_4_/' EN586_70_DASTool_bins/Bin_4.fna >EN586_70_DASTool_bins/EN586_70_Bin_4.fna
sed 's/>Bin_1 />Bin_1_/' EN586_Sed_64_DASTool_bins/Bin_1.fna >EN586_Sed_64_DASTool_bins/EN586_Sed_64_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN586_Sed_64_DASTool_bins/Bin_2.fna >EN586_Sed_64_DASTool_bins/EN586_Sed_64_Bin_2.fna
sed 's/>Bin_3 />Bin_3_/' EN586_Sed_64_DASTool_bins/Bin_3.fna >EN586_Sed_64_DASTool_bins/EN586_Sed_64_Bin_3.fna
sed 's/>Bin_1 />Bin_1_/' EN600_74_DASTool_bins/Bin_1.fna >EN600_74_DASTool_bins/EN600_74_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN600_74_DASTool_bins/Bin_2.fna >EN600_74_DASTool_bins/EN600_74_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' EN600_79_DASTool_bins/Bin_1.fna >EN600_79_DASTool_bins/EN600_79_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN600_79_DASTool_bins/Bin_2.fna >EN600_79_DASTool_bins/EN600_79_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' EN600_Sed_73_DASTool_bins/Bin_1.fna >EN600_Sed_73_DASTool_bins/EN600_Sed_73_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' EN600_Sed_73_DASTool_bins/Bin_2.fna >EN600_Sed_73_DASTool_bins/EN600_Sed_73_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' OC468-2_C83_DASTool_bins/Bin_1.fna >OC468-2_C83_DASTool_bins/OC468-2_C83_Bin_1.fna
sed 's/>Bin_1 />Bin_1_/' OC468-2_C93_DASTool_bins/Bin_1.fna >OC468-2_C93_DASTool_bins/OC468-2_C93_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' OC468-2_C93_DASTool_bins/Bin_2.fna >OC468-2_C93_DASTool_bins/OC468-2_C93_Bin_2.fna
sed 's/>Bin_1 />Bin_1_/' PE1031_96_DASTool_bins/Bin_1.fna >PE1031_96_DASTool_bins/PE1031_96_Bin_1.fna
sed 's/>Bin_1 />Bin_1_/' PE1031_Sed_54_DASTool_bins/Bin_1.fna >PE1031_Sed_54_DASTool_bins/PE1031_Sed_54_Bin_1.fna
sed 's/>Bin_2 />Bin_2_/' PE1031_Sed_54_DASTool_bins/Bin_2.fna >PE1031_Sed_54_DASTool_bins/PE1031_Sed_54_Bin_2.fna




#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Bin_Indexing
#PBS -l nodes=1:ppn=30
#PBS -l walltime=500:00:00
#PBS -l mem=200gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/
cd $BASEDIR

module load BWA/0.7.15-foss-2016b

bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_Sed_MUC19-8_0-3_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_JW826_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_48_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_48_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_Sed_42_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_Sed_42_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_122_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_122_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_Sed_117_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_4.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_4.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_39_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_39_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_44_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_44_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_4.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_4.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_4.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_4.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_5.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_6.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_4.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_65_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_65_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_4.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_3.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_74_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_74_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_79_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_79_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_Sed_73_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_Sed_73_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C83_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C93_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C93_Bin_2.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_96_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_Sed_54_Bin_1.fna
bwa index /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_Sed_54_Bin_2.fna




#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Bin_Mapping
#PBS -l nodes=1:ppn=30
#PBS -l walltime=500:00:00
#PBS -l mem=200gb

BASEDIR=/scratch/rck80079/12_6_19_Cosmos_Raw_Data/Other/
cd $BASEDIR

module load BWA/0.7.15-foss-2016b
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_2.fna -p AT18-02_Sed_MUC19-8_16-21_S4_L001_R1_001.fastq AT18-02_Sed_MUC19-8_16-21_S4_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_1.fna -p AT18-02_Sed_MUC19-8_16-21_S4_L001_R1_001.fastq AT18-02_Sed_MUC19-8_16-21_S4_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_3.fna -p AT18-02_Sed_MUC19-8_16-21_S4_L001_R1_001.fastq AT18-02_Sed_MUC19-8_16-21_S4_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_Sed_MUC19-8_0-3_Bin_1.fna -p AT18-02_Sed_MUC19-8_0-3_S19_L002_R1_001.fastq AT18-02_Sed_MUC19-8_0-3_S19_L002_R2_001.fastq  > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_Sed_MUC19-8_0-3_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_Bin_1.fna  -p AT26-13_Sed_43_OC26_S14_L002_R1_001.fastq AT26-13_Sed_43_OC26_S14_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_Bin_2.fna -p AT26-13_Sed_43_OC26_S14_L002_R1_001.fastq AT26-13_Sed_43_OC26_S14_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_JW826_Bin_1.fna -p AT26-13_Sed_43_JW826_S21_L002_R1_001.fastq AT26-13_Sed_43_JW826_S21_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_JW826_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_48_Bin_1.fna -p AT26-13_Sed_48_OC26_S15_L002_R1_001.fastq AT26-13_Sed_48_OC26_S15_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_48_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_48_Bin_2.fna -p AT26-13_Sed_48_OC26_S15_L002_R1_001.fastq AT26-13_Sed_48_OC26_S15_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_48_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_122_Bin_1.fna -p EN496_Sed_122_OC26_S6_L001_R1_001.fastq EN496_Sed_122_OC26_S6_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_122_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_122_Bin_2.fna -p EN496_Sed_122_OC26_S6_L001_R1_001.fastq EN496_Sed_122_OC26_S6_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_122_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_1.fna -p EN510_Sed_34_OC26_S7_L001_R1_001.fastq EN510_Sed_34_OC26_S7_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_2.fna -p EN510_Sed_34_OC26_S7_L001_R1_001.fastq EN510_Sed_34_OC26_S7_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_3.fna -p EN510_Sed_34_OC26_S7_L001_R1_001.fastq EN510_Sed_34_OC26_S7_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_3.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_4.fna -p EN510_Sed_34_OC26_S7_L001_R1_001.fastq EN510_Sed_34_OC26_S7_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_Bin_4.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_39_Bin_1.fna -p EN510_Sed_39_OC26_S8_L001_R1_001.fastq EN510_Sed_39_OC26_S8_L001_R2_001.fastq  > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_39_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_1.fna -p EN527_Sed_45_OC26_S27_L003_R1_001.fastq EN527_Sed_45_OC26_S27_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_2.fna -p EN527_Sed_45_OC26_S27_L003_R1_001.fastq EN527_Sed_45_OC26_S27_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_3.fna -p EN527_Sed_45_OC26_S27_L003_R1_001.fastq EN527_Sed_45_OC26_S27_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_3.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_4.fna -p EN527_Sed_45_OC26_S27_L003_R1_001.fastq EN527_Sed_45_OC26_S27_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_Bin_4.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_1.fna -p EN527_Sed_50_OC26_S9_L001_R1_001.fastq EN527_Sed_50_OC26_S9_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_2.fna -p EN527_Sed_50_OC26_S9_L001_R1_001.fastq EN527_Sed_50_OC26_S9_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_3.fna -p EN527_Sed_50_OC26_S9_L001_R1_001.fastq EN527_Sed_50_OC26_S9_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_3.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_4.fna -p EN527_Sed_50_OC26_S9_L001_R1_001.fastq EN527_Sed_50_OC26_S9_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_50_Bin_4.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_1.fna -p EN559_Sed_168_OC26_S29_L003_R1_001.fastq EN559_Sed_168_OC26_S29_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_2.fna -p EN559_Sed_168_OC26_S29_L003_R1_001.fastq EN559_Sed_168_OC26_S29_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_3.fna -p EN559_Sed_168_OC26_S29_L003_R1_001.fastq EN559_Sed_168_OC26_S29_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_Bin_3.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_1.fna -p EN559_Sed_174_OC26_S10_L001_R1_001.fastq EN559_Sed_174_OC26_S10_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_2.fna -p EN559_Sed_174_OC26_S10_L001_R1_001.fastq EN559_Sed_174_OC26_S10_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_3.fna -p EN559_Sed_174_OC26_S10_L001_R1_001.fastq EN559_Sed_174_OC26_S10_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_3.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_4.fna -p EN559_Sed_174_OC26_S10_L001_R1_001.fastq EN559_Sed_174_OC26_S10_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_4.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_5.fna -p EN559_Sed_174_OC26_S10_L001_R1_001.fastq EN559_Sed_174_OC26_S10_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_5.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_6.fna -p EN559_Sed_174_OC26_S10_L001_R1_001.fastq EN559_Sed_174_OC26_S10_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_Bin_6.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_65_Bin_1.fna -p EN586_Sed_65_OC26_S31_L003_R1_001.fastq EN586_Sed_65_OC26_S31_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_65_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_65_Bin_2.fna -p EN586_Sed_65_OC26_S31_L003_R1_001.fastq EN586_Sed_65_OC26_S31_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_65_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_1.fna -p EN586_Sed_70_OC26_S16_L002_R1_001.fastq EN586_Sed_70_OC26_S16_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_2.fna -p EN586_Sed_70_OC26_S16_L002_R1_001.fastq EN586_Sed_70_OC26_S16_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_3.fna -p EN586_Sed_70_OC26_S16_L002_R1_001.fastq EN586_Sed_70_OC26_S16_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_3.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_4.fna -p EN586_Sed_70_OC26_S16_L002_R1_001.fastq EN586_Sed_70_OC26_S16_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_Bin_4.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_74_Bin_1.fna -p EN600_Sed_74_OC26_S33_L003_R1_001.fastq EN600_Sed_74_OC26_S33_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_74_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_74_Bin_2.fna -p EN600_Sed_74_OC26_S33_L003_R1_001.fastq EN600_Sed_74_OC26_S33_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_74_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_79_Bin_1.fna -p EN600_Sed_79_OC26_S17_L002_R1_001.fastq EN600_Sed_79_OC26_S17_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_79_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_79_Bin_2.fna -p EN600_Sed_79_OC26_S17_L002_R1_001.fastq EN600_Sed_79_OC26_S17_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_79_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C83_Bin_1.fna -p OC468-2_Sed_C83_STE25_S25_L003_R1_001.fastq OC468-2_Sed_C83_STE25_S25_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C83_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C93_Bin_1.fna -p OC468-2_Sed_C93_OC26_S2_L001_R1_001.fastq OC468-2_Sed_C93_OC26_S2_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C93_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C93_Bin_2.fna -p OC468-2_Sed_C93_OC26_S2_L001_R1_001.fastq OC468-2_Sed_C93_OC26_S2_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C93_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_96_Bin_1.fna -p PE1031_Sed_96_OC26_S18_L002_R1_001.fastq PE1031_Sed_96_OC26_S18_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_96_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_Sed_54_Bin_1.fna -p PE1031_Sed_54_OC26_S13_L002_R1_001.fastq PE1031_Sed_54_OC26_S13_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_Sed_54_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_Sed_54_Bin_2.fna -p PE1031_Sed_54_OC26_S13_L002_R1_001.fastq PE1031_Sed_54_OC26_S13_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_Sed_54_Bin_2.sam



#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Bin_Mapping_Fluff
#PBS -l nodes=1:ppn=30
#PBS -l walltime=500:00:00
#PBS -l mem=200gb

BASEDIR=/scratch/rck80079/12_6_19_Cosmos_Raw_Data/Oil_Fluff/
cd $BASEDIR

module load BWA/0.7.15-foss-2016b

bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_Sed_42_Bin_1.fna -p AT26-13_Sed_42_OC26_S28_L003_R1_001.fastq AT26-13_Sed_42_OC26_S28_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_Sed_42_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_Sed_42_Bin_2.fna -p AT26-13_Sed_42_OC26_S28_L003_R1_001.fastq AT26-13_Sed_42_OC26_S28_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_Sed_42_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_Sed_117_Bin_1.fna -p EN496_Sed_117_OC26_S5_L001_R1_001.fastq EN496_Sed_117_OC26_S5_L001_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_Sed_117_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_Bin_1.fna -p EN510_Sed_33_OC26_S20_L002_R1_001.fastq EN510_Sed_33_OC26_S20_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_Bin_2.fna -p EN510_Sed_33_OC26_S20_L002_R1_001.fastq EN510_Sed_33_OC26_S20_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_44_Bin_1.fna -p EN527_Sed_44_OC26_S26_L003_R1_001.fastq EN527_Sed_44_OC26_S26_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_44_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_1.fna -p EN559_Sed_167_OC26_S22_L002_R1_001.fastq EN559_Sed_167_OC26_S22_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_2.fna -p EN559_Sed_167_OC26_S22_L002_R1_001.fastq EN559_Sed_167_OC26_S22_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_3.fna -p EN559_Sed_167_OC26_S22_L002_R1_001.fastq EN559_Sed_167_OC26_S22_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_3.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_4.fna -p EN559_Sed_167_OC26_S22_L002_R1_001.fastq EN559_Sed_167_OC26_S22_L002_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_Bin_4.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_1.fna -p EN586_Sed_64_OC26_S30_L003_R1_001.fastq EN586_Sed_64_OC26_S30_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_2.fna -p EN586_Sed_64_OC26_S30_L003_R1_001.fastq EN586_Sed_64_OC26_S30_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_2.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_3.fna -p EN586_Sed_64_OC26_S30_L003_R1_001.fastq EN586_Sed_64_OC26_S30_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_Bin_3.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_Sed_73_Bin_1.fna -p EN600_Sed_73_OC26_S32_L003_R1_001.fastq EN600_Sed_73_OC26_S32_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_Sed_73_Bin_1.sam
bwa mem -t 30 /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_Sed_73_Bin_2.fna -p EN600_Sed_73_OC26_S32_L003_R1_001.fastq EN600_Sed_73_OC26_S32_L003_R2_001.fastq > /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_Sed_73_Bin_2.sam



#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Bin_sam2bam
#PBS -l nodes=1:ppn=30
#PBS -l walltime=500:00:00
#PBS -l mem=200gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/
cd $BASEDIR


module load SAMtools/1.10-GCC-8.2.0-2.31.1
for i in *.sam; do samtools view -bS -F 4 -@10  $i -o ${i%.sam}.bam; done
for i in *.bam; do samtools sort -@10 $i -o ${i%.bam}-sorted.bam; done
module unload SAMtools/1.10-GCC-8.2.0-2.31.1

module load MetaBAT/2.12.1-foss-2018a-linux_x86_64
jgi_summarize_bam_contig_depths --outputDepth depth.txt *sorted.bam --noIntraDepthVariance


#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Bin_depth
#PBS -l nodes=1:ppn=30
#PBS -l walltime=500:00:00
#PBS -l mem=200gb

BASEDIR=/scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/
cd $BASEDIR


 for i in $(ls *sorted.bam); do singularity exec /usr/local/singularity-images/metabat_2.15-4.sif jgi_summarize_bam_contig_depths --outputDepth ${i%.sorted-bam}-depth.txt $i --noIntraDepthVariance; done


#PBS -S /bin/bash
#PBS -q joye_q
#PBS -N Phylosift_Bins
#PBS -l nodes=1:ppn=4
#PBS -l walltime=100:00:00
#PBS -l mem=200gb

cd /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/07_Phylosift/Bins
module load PhyloSift/1.0.1-GCCcore-8.3.0

phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_DASTool_bins/AT18-02_MUC19-8_16-21_Bin_1.fna --output AT18-02_MUC19-8_16-21_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_DASTool_bins/AT18-02_MUC19-8_16-21_Bin_2.fna --output AT18-02_MUC19-8_16-21_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_MUC19-8_16-21_DASTool_bins/AT18-02_MUC19-8_16-21_Bin_3.fna --output AT18-02_MUC19-8_16-21_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT18-02_Sed_MUC19-8_0-3_DASTool_bins/AT18-02_Sed_MUC19-8_0-3_Bin_1.fna --output AT18-02_Sed_MUC19-8_0-3_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_DASTool_bins/AT26-13_43_Bin_1.fna --output AT26-13_43_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_DASTool_bins/AT26-13_43_Bin_2.fna --output AT26-13_43_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_43_JW826_DASTool_bins/AT26-13_43_JW826_Bin_1.fna --output AT26-13_43_JW826_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_48_DASTool_bins/AT26-13_48_Bin_1.fna --output AT26-13_48_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_48_DASTool_bins/AT26-13_48_Bin_2.fna --output AT26-13_48_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_Sed_42_DASTool_bins/AT26-13_Sed_42_Bin_1.fna --output AT26-13_Sed_42_Bin_1.fna --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/AT26-13_Sed_42_DASTool_bins/AT26-13_Sed_42_Bin_2.fna --output AT26-13_Sed_42_Bin_2.fna --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_122_DASTool_bins/EN496_122_Bin_1.fna --output EN496_122_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_122_DASTool_bins/EN496_122_Bin_2.fna --output EN496_122_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN496_Sed_117_DASTool_bins/EN496_Sed_117_Bin_1.fna --output EN496_Sed_117_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_DASTool_bins/EN510_34_Bin_1.fna --output EN510_34_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_DASTool_bins/EN510_34_Bin_2.fna --output EN510_34_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_DASTool_bins/EN510_34_Bin_3.fna --output EN510_34_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_34_DASTool_bins/EN510_34_Bin_4.fna --output EN510_34_Bin_4 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_39_DASTool_bins/EN510_39_Bin_1.fna --output EN510_39_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_DASTool_bins/EN510_Sed_33_Bin_1.fna --output EN510_Sed_33_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN510_Sed_33_DASTool_bins/EN510_Sed_33_Bin_2.fna --output EN510_Sed_33_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_44_DASTool_bins/EN527_44_Bin_1.fna --output EN527_44_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_DASTool_bins/EN527_45_Bin_1.fna --output EN527_45_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_DASTool_bins/EN527_45_Bin_2.fna --output EN527_45_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_DASTool_bins/EN527_45_Bin_3.fna --output EN527_45_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_DASTool_bins/EN527_45_Bin_4.fna --output EN527_45_Bin_4 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_DASTool_bins/EN527_50_Bin_1.fna --output EN527_50_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_DASTool_bins/EN527_50_Bin_2.fna --output EN527_50_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_DASTool_bins/EN527_50_Bin_3.fna --output EN527_50_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN527_45_DASTool_bins/EN527_50_Bin_4.fna --output EN527_50_Bin_4 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_DASTool_bins/EN559_168_Bin_1.fna --output EN559_168_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_DASTool_bins/EN559_168_Bin_2.fna --output EN559_168_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_168_DASTool_bins/EN559_168_Bin_3.fna --output EN559_168_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_DASTool_bins/EN559_174_Bin_1.fna --output EN559_174_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_DASTool_bins/EN559_174_Bin_2.fna --output EN559_174_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_DASTool_bins/EN559_174_Bin_3.fna --output EN559_174_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_DASTool_bins/EN559_174_Bin_4.fna --output EN559_174_Bin_4 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_DASTool_bins/EN559_174_Bin_5.fna --output EN559_174_Bin_5 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_174_DASTool_bins/EN559_174_Bin_6.fna --output EN559_174_Bin_6 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_DASTool_bins/EN559_Sed_167_Bin_1.fna --output EN559_Sed_167_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_DASTool_bins/EN559_Sed_167_Bin_2.fna --output EN559_Sed_167_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_DASTool_bins/EN559_Sed_167_Bin_3.fna --output EN559_Sed_167_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN559_Sed_167_DASTool_bins/EN559_Sed_167_Bin_4.fna --output EN559_Sed_167_Bin_4 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_65_DASTool_bins/EN586_65_Bin_1.fna --output EN586_65_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_65_DASTool_bins/EN586_65_Bin_2.fna --output EN586_65_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_DASTool_bins/EN586_70_Bin_1.fna --output EN586_70_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_DASTool_bins/EN586_70_Bin_2.fna --output EN586_70_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_DASTool_bins/EN586_70_Bin_3.fna --output EN586_70_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_70_DASTool_bins/EN586_70_Bin_4.fna --output EN586_70_Bin_4 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_DASTool_bins/EN586_Sed_64_Bin_1.fna --output EN586_Sed_64_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_DASTool_bins/EN586_Sed_64_Bin_2.fna --output EN586_Sed_64_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN586_Sed_64_DASTool_bins/EN586_Sed_64_Bin_3.fna --output EN586_Sed_64_Bin_3 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_74_DASTool_bins/EN600_74_Bin_1.fna --output EN600_74_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_74_DASTool_bins/EN600_74_Bin_2.fna --output EN600_74_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_79_DASTool_bins/EN600_79_Bin_1.fna--output EN600_79_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_79_DASTool_bins/EN600_79_Bin_2.fna--output EN600_79_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_Sed_73_DASTool_bins/EN600_Sed_73_Bin_1.fna --output EN600_Sed_73_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/EN600_Sed_73_DASTool_bins/EN600_Sed_73_Bin_2.fna --output EN600_Sed_73_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C83_DASTool_bins/OC468-2_C83_Bin_1.fna --output OC468-2_C83_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C93_DASTool_bins/OC468-2_C93_Bin_1.fna   --output OC468-2_C93_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/OC468-2_C93_DASTool_bins/OC468-2_C93_Bin_2.fna   --output OC468-2_C93_Bin_2 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_96_DASTool_bins/PE1031_96_Bin_1.fna --output PE1031_96_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_Sed_54_DASTool_bins/PE1031_Sed_54_Bin_1.fna --output PE1031_Sed_54_Bin_1 --threads 4
phylosift all /scratch/rck80079/Oil_Fluff_Data/Oil_Fluff/05_DasTool/Bins/PE1031_Sed_54_DASTool_bins/PE1031_Sed_54_Bin_2.fna --output PE1031_Sed_54_Bin_2 --threads 4
